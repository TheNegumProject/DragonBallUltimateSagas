;--------------------- Lista de variables ----------------------

;Var(0) - S.Def
;Var(5) - S.Def 15070                         (cargar genkidama)
;Var(6) - HELPER                              (tamaño genkidama)
;Var(6) - S.Def 1000                          (cambio de mano al lanzar rafaga)
;Var(9) - S.Def 12015, 12016                  (efecto kamehameha creciendo)
;Var(10) - S.Def 12005, 12006, 12007          (tamaño kamehameha en largo)
;Var(11) - S.Def 12005, 12006, 12007, 12009   (tamaño kamehameha en ancho)
;Var(12) - S.Def -2, 12000, 12007             (poder de choque en tiempo cargado)
;Var(17) - S.Def 1001, 1061                   (velocidad de rafaga)
;Var(18) - S.Def -2                           (modo kaioken)
;Var(17) - S.Def -2                           (pausetime modo kaioken)
;Var(19) - S.Def -2                           (combo random modo kaioken)
;Var(20) - S.Def -2                           (determina que lanza kamehameha)
;Var(25) - S.Def 12006                        (tiempo lanzando el kamehameha)
;Var(33) - S.Def 12002                        (posicion de particulas kamehame)
;Var(44) - S.Def 12002                        (posicion de particulas kamehame)
;Var(45) - S.Def 17003                        (posicion random del spark en x)
;Var(46) - S.Def 17003                        (posicion random del spark en y)




[Data]
life=1000
attack=100
defence=100
fall.defence_up=50
liedown.time=60
airjuggle=15
sparkno=2
guard.sparkno=40
KO.echo=0
volume=0
IntPersistIndex=60
FloatPersistIndex=40

[Size]
xscale= 1
yscale= 1
ground.back=10
ground.front=10
air.back=10
air.front=10
height=60
attack.dist=160
proj.attack.dist=90
proj.doscale=0
head.pos=-5,-90
mid.pos=-5,-60
shadowoffset=0
draw.offset=0,0

[Velocity]
walk.fwd= 2.7
walk.back= -2
run.fwd= 5,0
run.back= -4.5,-3.8
jump.neu= 0,-8.4
jump.back= -2.5
jump.fwd= 2.5
runjump.back= -2.55,-8.1
runjump.fwd= 4,-8.1
airjump.neu= 0,-8.1
airjump.back= -2.55
airjump.fwd= 2.5

[Movement]
airjump.num=1
airjump.height=35
yaccel=.44
stand.friction=.85
crouch.friction=.82

;-------------------------------------------------------------------------------
[Statedef 170]
type=S
ctrl=0
anim=170
velset=0,0

[state 191]
type = playsnd
trigger1 = time = 0
value = 420,3
volume = 255

[State 170,1]
type=NotHitBy
trigger1=1
value=SCA
time=1

;-----------------------------------

;Win decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
triggerall = var(7) = 0
trigger1= life <= 250
value = 1181

[State 180, 1]
type = ChangeState
triggerall = var(7) = 0
trigger1=life > 250
value = 1188

[State 180, 1]
type = ChangeState
triggerall = var(7) = 1
trigger1 = life <= 25
value = 1182

[State 180, 1]
type = ChangeState
triggerall = var(7) = 1
trigger1 = life > 250
value = 1187

[State 180, 1]
type = ChangeState
triggerall = var(7) = 2
trigger1 = life >  250
value = 1183

[State 180, 1]
type = ChangeState
triggerall = var(7) = 2
trigger1 = life <= 250
value = 1184

[State 180, 1]
type = ChangeState
triggerall = var(7) = 3
trigger1 = life > 250
value = 1185

[State 180, 1]
type = ChangeState
triggerall = var(7) = 3
trigger1 = life <= 250
value = 1186




;------------------------------------------

[Statedef 1181]
type = S
ctrl = 0
anim = 181
velset=0,0

[State 2050, 3]
type = PlaySnd
trigger1 = time = 13
value = 0,3
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 1750
pos = -3,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S3,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;------------------------------------------

[Statedef 1182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 16
value = 255,255,255
time = 2
under = 1
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = time = 17
anim = 1750
pos = -3,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 2050, 3]
type = PlaySnd
trigger1 = time = 14
value = 0,3


;------------------------------------------

[Statedef 1183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 27
value = S0,6

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 27
value = 255,255,255
time = 2
under = 1
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 405
pos = -6,-10
postype = p1
removetime = -2
scale = .75,.75
sprpriority = 20
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim = 1750
pos = -5,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 89
value = S3,0

[state 0]
type = varset
trigger1 = time = 25
v = 7
value = 0

;------------------------------------------

[Statedef 1184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = S420,3

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim = 1750
pos = -5,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 32
anim = 405
pos = -6,-10
postype = p1
removetime = -2
scale = .75,.75
sprpriority = 20
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 89
value = S3,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

;---------------------------------------

[Statedef 1185]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 = time = 32
anim = 1750
pos = -6,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 32
value = S3,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

;---------------------------------------

[Statedef 1186]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 =time=45
anim = 1750
pos = -6,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 45
value = 255,255,255
time = 2
under = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S45,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S420,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,260]
flag = roundnotover

;---------------------------------------

[Statedef 1187]
type = S
ctrl = 0
anim = 187
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 =time = 10
anim = 755
pos = -6,1
removetime = 20
postype = p1
scale = .3,.25
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 =time = 30
anim = 755
pos = -6,1
removetime = 120
postype = p1
scale = .3,.35
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 =time = 30
anim = 1031
pos = -6,1
removetime = 200
postype = p1
ontop = 1
scale = .5,.5
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 =time = 30
anim = 1030
pos = -6,-25
removetime = 200
postype = p1
ontop = 1
scale = .5,.5
ignorehitpause = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 45
value = 255,255,255
time = 2
under = 1
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S45,10

[state 0]
type = playsnd
trigger1 = time = 45
value = S0,6

[State 0]
type = playsnd
trigger1 = timemod = 72,0
value = S0,7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,250]
flag = roundnotover

;---------------------------------------------------------------------------
[Statedef 1188]
type = S
ctrl = 0
anim = 188
velset = 0,0

[State 0]
type = Explod
trigger1 = time = 5
anim = 6005
pos = -6,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.4,0.45
bindtime = -1
removetime = 50
supermove = 1


[State 0]
type = Explod
trigger1 = time = 50
anim = 1061
pos = -6,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = 38
supermove = 1

[State 0]
type = Explod
trigger1 = time = 50
anim = 755
pos = -6,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.35,0.35
bindtime = -1
removetime = 5
supermove = 1


[state 0]
type = envshake
trigger1 = animelem = 3
ampl = 2
time = 80

[state 0]
type = playsnd
trigger1 = animelem = 1
value = S0,7

[state 0]
type = playsnd
trigger1 = animelem = 4
value = S0,6

[state 0]
type = playsnd
trigger1 = animelem = 4
value = S0,8

[state 0]
type = playsnd
trigger1 = animelem = 7
value = S0,10

[State 0, Explod]
type = Explod
trigger1 = time = 73
anim = 1038
pos = -6,4
postype = p1
sprpriority = -5
scale = .5,.5
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 73
anim = 1750
pos = -6,4
postype = p1
scale = .5,.5
ignorehitpause = 0


[State 0, EnvColor]
type = EnvColor
trigger1 = time = 38
value = 255,255,255
time = 2
under = 1
;ignorehitpause =
;persistent =

[State Fx dash]
type = Explod
triggerall = animelem = 7
triggerall = pos y>=-1
trigger1 = random > 600
anim = 1056
postype = p1
pos = 20,-3
removetime = -2
vel = -1, 0
ownpal = 1
sprpriority = 0
scale = .2,.1

[State Fx dash 2]
type = Explod
triggerall = animelem = 7
triggerall = pos y>=-1
trigger1 = random > 600
anim = 1056
postype = p1
pos = 20,6
removetime = -2
vel = -1, 0
ownpal = 1
sprpriority = 2
scale = .2,.1

[State 700, flash]
type = PalFX
trigger1 = time = 106
trigger1 = TimeMod = 4,0
time = 1
add = 100,150,200

[State 1, Dash fx]
type = Explod
trigger1 = animelem = 7
anim = 1034
ID = 1034
pos = 35,-20
postype = p1
bindtime = -1
removetime = -1
supermove = 1
scale = .5,.5
removeongethit = 1
ownpal = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
trigger3 = screenpos x >= 305 && time >=10
trigger4 = screenpos x <= 15 && time >=10
value = S1,6


[State 190]
type = Explod
trigger1 = time =0
anim  = 7102
ID = 7102
pos = -10,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
pausemovetime = 0
scale = 0.2, 0.2
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 190]
type = Explod
trigger1 = time =0
anim  = 7102
ID = 7103
pos = 10,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
pausemovetime = 0
scale = 0.2, 0.2
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,51

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,49
channel = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time = [0,0]
value = 1
movecamera = 1,1

[State 0, ScreenBound]
type = ScreenBound
triggerall = numenemy>0
trigger1 = time >0
value = 0
movecamera = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = 12
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,300]
flag = roundnotover

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic

;-------------------------------------------------------------------------------
[Statedef 190]
type=S
ctrl=0

[State 190,1]
type=ChangeState
trigger1= !time
value=1911+random%3

;-------------------------------------------------------------------------------
[Statedef 1911]
type=S
movetype=A
physics=S
ctrl=0
anim=193
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 5
anim = 405
pos = 0,0
postype = p1
removetime = -2
scale = .75,.75
sprpriority = 20
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 1750
pos = 0,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 55
value = S420,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 192
ID = 7042
pos = -40,0
postype = p1
removetime = -2
scale = 1,1
bindtime = -1
sprpriority = -1
ownpal = 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190,1]
type=ChangeState
trigger1= time = 350
value=0
;---------------------------------------------------------------------------
[Statedef 1912]
type = S
ctrl = 0
anim = 191

[state 191]
type = playsnd
trigger1 = time = 120 && teamside = 1
trigger2 = time = 0 && teamside = 2
value = 20,0+(random%9)
volume = 255

[state 191, AssertSpecial Flag]
type = assertspecial
trigger1 = 1
flag = intro

[State 191 3]
type = velset
trigger1 = 1
x= 0
y= 0

[State 191 3]
type = changestate
trigger1 = time >= 300
value = 0
;-------------------------------------------------------------------------------
[Statedef 1913]
type=S
movetype=A
physics=S
ctrl=0
anim=195
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim = 1026
pos = -4,4
postype = p1
scale = .5,.5
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S0,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S20,4

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190,1]
type=ChangeState
trigger1= time = 300
value=0
;-------------------------------------------------------------------------
;ssj1
;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[StateDef 2200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 30
sprpriority = 2

[State 10, 1]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1200

[State 10, 1]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 21200

[State 10, 1]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 31200

[State 200, 3]
type = Explod
trigger1 = time = 7
anim = 7102
pos = -12,6
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = -1
scale = 0.5,0.5
supermove = 1

[State 200,PlaySnd]
type=PlaySnd
trigger1= AnimElem=3
value=0,11

[State 215, velset]
type = VelSet
trigger1 = animelem = 2
x = 3

[State 215, velset]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 30,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s2,1
guardsound = s5,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 10
envshake.ampl = 3
envshake.freq = 128



[State 200, W2]
type = changestate
trigger1 = command = "x" && movecontact
value = 2201

[State 200, S1]
type = changestate
trigger1 = command = "z" && movecontact
value = 210

[State 200, M1]
type = changestate
trigger1 = command = "y" && movecontact
value = 230

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------
[StateDef 2201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 30
sprpriority = 2

[State 10, 1]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 2201

[State 10, 1]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 22201

[State 10, 1]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 32201

[State 215, velset]
type = VelSet
trigger1 = animelem = 2
x = 7

[State 215, velset]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 10,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s5,5
guardsound = s5,3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 200, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 10,3
animtype = Light
guardflag = MA
guard.sparkno = s2000
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s5,5
guardsound = s5, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 200, 1]
type = HitDef
trigger1 = animelem = 7
attr = S, NA
damage = 10,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s5, 5
guardsound = s5, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
value = 0,1

[State -2, Back Ground Wave]
type = explod
trigger1 = animelem = 9
scale = .25,.25
ID = 9999
anim = 1026
postype = p1
scale = .5,.5
bindtime = 1
sprpriority = -1
pos = 0,0


[State 200, W3]
type = changestate
triggerall = var(7) <= 2
triggerall = hitcount >= 2
trigger1 = command = "x" && movecontact
value = 2202

[State 200, W3]
type = changestate
triggerall = var(7) = 3
triggerall = hitcount >= 2
trigger1 = command = "x" && movecontact
value = 2203

[State 200, S1]
type = changestate
triggerall = hitcount >= 2
trigger1 = command = "z" && movecontact
value = 210

[State 200, M1]
type = changestate
triggerall = hitcount >= 2
trigger1 = command = "y" && movecontact
value = 230

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------
[StateDef 2202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 40
sprpriority = 2

[State 10, 1]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 2202

[State 10, 1]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 22202

[State 215, velset]
type = VelSet
trigger1 = animelem = 2
x = 7

[State 215, velset]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s5, 2
guardsound = s5, 1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 10
envshake.ampl = 3
envshake.freq = 128
fall = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 9
attr = S, NA
damage = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 20
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s5, 2
guardsound = s5, 1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 10
envshake.ampl = 3
envshake.freq = 128

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
value = 0,2

[State -2, Back Ground Wave]
type = explod
trigger1 = animelem = 12
scale = .25,.25
ID = 9999
anim = 9009
postype = p1
scale = .5,.5
bindtime = 1
sprpriority = -1
pos = 0,0

[State 200, S1]
type = changestate
triggerall = hitcount >= 2
trigger1 = command = "z" && movecontact
value = 210

[State 200, M1]
type = changestate
triggerall = hitcount >= 2
trigger1 = command = "y" && movecontact
value = 230


[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------
;-------------------------------------------------------------------------------
[StateDef 2203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 280
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S300,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S197,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2500,0

[State 0]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 35,0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 5
sparkno = -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s1, 8
guardsound = S3, 0
ground.slidetime= 7
ground.hittime= 5
guard.hittime= 7
air.hittime= 14
ground.velocity= -22, -3
air.velocity= -22, -4
air.juggle= 1
fall = 1
fall.recover = 0
fall.damage= 0
air.fall= 1
down.velocity= 0, 0
down.hittime = 0
down.bounce= 0
envshake.time = 15
envshake.freq = 120
envshake.ampl = -6

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 2230]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2230
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = s2500,0

[State 230, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 30,15
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s5, 0
guardsound = s2, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 10
envshake.ampl = 3
envshake.freq = 128


[State 200, S1]
type = changestate
trigger1 = command = "z" && movecontact
value = 210

[State 200, M1]
type = changestate
trigger1 = command = "c" && movecontact
value = 2231


[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 2231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2231
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 4000,0

[State 230, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 35,20
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = s5, 0
guardsound = s6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1
envshake.time = 10
envshake.ampl = 5
envshake.freq = 128

[State -2, Back Ground Wave]
type = explod
trigger1 = animelem = 3
pos = 0,0
ID = 9999
anim = 1026
postype = p1
scale = .5,.5
bindtime = 1
sprpriority = -1
pos = 0,0


[State 200, S1]
type = changestate
trigger1 = command = "z" && movecontact
value = 210

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 200]
type=S
movetype=A
physics=S
juggle=4
velset=2,0
ctrl=0
poweradd=20
sprpriority=2

[State 11, 3]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 200

[State 11, 3]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1200

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 21200

[State 200, 3]
type = Explod
trigger1 = time = 7
anim = 7102
pos = -12,6
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = -1
scale = 0.5,0.5
supermove = 1


[State 200,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Light
damage=10
guardflag=MA
hitflag=MAF
priority=1,Hit
pausetime=6*var(17),12
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound=s5,0
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2
air.velocity=-2,-3

[State 200,PlaySnd]
type=PlaySnd
trigger1=Time=1
value=0,1

[State 200,PlaySnd]
type=PlaySnd
trigger1= AnimElem=3
value=0,11


[State 200,ChangeState2]
type=ChangeState
trigger1= AnimTime = 0
value=0
ctrl=1

;-------------------------------------------------------------------------------

[Statedef 210]
type=S
movetype=A
physics=S
juggle=1
poweradd=65
ctrl=0
velset=2,0
sprpriority=3
anim = 210

[State 210,PlaySnd]
type=PlaySnd
trigger1=Time=2
value=0,12

[State 210,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Medium
damage=10
guardflag=MA
pausetime=6*var(17),10
sparkno=-1
guard.sparkno = -1
sparkxy=-5,-17
hitsound=s5,2
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2.0
air.velocity=-2,-3

[State 210,ChangeState2]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;-------------------------------------------------------------------------------

[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 220,PlaySnd]
type=PlaySnd
trigger1=Time=1
value=0,11

[State 210,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=up
damage=10
guardflag=MA
pausetime=6*var(17),10
sparkno=-1
guard.sparkno = -1
sparkxy=-5,-25
hitsound=s5,3
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2.0
air.velocity=-2,-3

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------

[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 230
poweradd = 40
sprpriority = 2

[State 220,ChangeAnim]
type=ChangeAnim
trigger1=!Time
value= 230

[State 220,PlaySnd]
type=PlaySnd
trigger1=Time=1
value=0,12

[State 220, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 40
animtype = Light
guardflag = MA
hitflag = MAf
priority = 3, Hit
pausetime = 8*var(17), 10
sparkno = -1
guard.sparkno = -1
sparkxy=-5,-17
hitsound = s5, 4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-3
airguard.velocity = -1.9,-.8
air.type = trip
air.velocity = -1.4,-3
air.hittime = 12
fall = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; combo de patadas


;-------------------------------------------------------------------------------

[Statedef 230]
type=S
movetype=A
physics=S
juggle=4
poweradd=65
ctrl=0
velset=4,0
sprpriority=2

[State 11, 3]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 240

[State 11, 3]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1240

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 2240

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 3240

[State 240,1]
type=PlaySnd
trigger1=AnimElem=2
value=0,13

[State 240,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Medium
damage=10
guardflag=MA
pausetime=12*var(17),10
sparkno=-1
guard.sparkno = -1
sparkxy=var(52):=30,var(53):=-30
hitsound=s5,4
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2.0
air.velocity=-1,-1.5

[State 240,4]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;-------------------------------------------------------------------------------
[Statedef 240]
type=S
movetype=A
physics=S
juggle= 4
poweradd=65
ctrl=0
velset=4,0
sprpriority=2
anim =250

[State 11, 3]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 250

[State 11, 3]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1250

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 2250

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 3250

[State 250,1]
type=PlaySnd
trigger1=Time=2
value=0,1

[State 250,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Medium
damage=10
guardflag=MA
pausetime=12*var(17),10
sparkno=-1
guard.sparkno = -1
sparkxy=-10,-30
hitsound=s5,5
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-1.5,0
air.velocity=-1,-1.5

[State 250,4]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1


[Statedef 250]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
poweradd = 0
sprpriority = 2

[State 11, 3]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 270

[State 11, 3]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1270

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 2270

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 3270

[State 230,1]
type=PlaySnd
trigger1=Time=2
value=0,0

[State 230,HitDef]
type=HitDef
trigger1=!Time
attr=S,NA
animtype=high
damage=10
guardflag=MA
pausetime=12*var(17),10
sparkno=-1
guard.sparkno = -1
sparkxy=-8,-17
hitsound=s5,3
guardsound=s6,0
ground.type= High
ground.slidetime=13
ground.hittime=18
ground.velocity=-5,0
air.velocity=-1,-1.5

[State 230,3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
poweradd = 0
sprpriority = 2

[State 11, 3]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 260

[State 11, 3]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1260

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 2260

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 3260

[State 230,1]
type=PlaySnd
trigger1=Time=2
value=0,0

[State 230,HitDef]
type=HitDef
trigger1=!Time
attr=S,NA
animtype= up
damage=50
guardflag=MA
pausetime=2*var(17),10
sparkno=-1
guard.sparkno = -1
sparkxy=-8,-23
hitsound=s5,3
guardsound=s6,0
ground.type= High
ground.slidetime=13
ground.hittime=18
ground.velocity=-4,-10
air.velocity=-4,-7
fall = 1

[State 230,3]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1


;-------------------------------------------------------------------------------
[statedef 420]
type = S
Movetype = I
physics = S
Anim = 215
poweradd = -50
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 1750
pos = 0,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 1750
pos = 0,1
postype = p1
scale = .2,.2
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,0

[state 702, 2]
type = posadd
trigger1 = animelem = 2
x = floor (p2dist x) +40

[state 702 ,5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------

;-------------------------------------------------------------------------------
;Beam ssj3
[Statedef 510]
type=S
movetype=A
physics=S
juggle=1
anim = 425
ctrl=0
sprpriority=2
poweradd=-200


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = s8,6

[State 425, 1]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1055
projhitanim = -1
projpriority = 1
projheightbound = 340, 100
projedgebound = 10
projscreenbound = 10
projshadow = 1
offset = 40,-30
velocity = 0,0
accel = 0, 0
attr = S, SP
damage   = 12
animtype = hard
projhits = 999
guardflag = MA
hitflag = MAFDP
pausetime = 4,2
sparkno = -1
sparkxy= var(52):=30,var(53):=-30
guardsound = S4,9
ground.type = Heavy
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -7
air.animtype = back
air.velocity = -7
air.juggle = 3
down.velocity = -9,-.1
down.hittime = 30
down.bounce = 0
projscale = .5,.5
pausemovetime = 1000
pausemovetime = 1000

[State 425,ChangeState2]
type=ChangeState
trigger1= AnimTime = 0
value=0
ctrl=1

;-------------------------------------------------------------------------------
; golpes aereos

[Statedef 600]
type=A
movetype=A
physics=A
juggle=4
poweradd=11
ctrl=0
sprpriority=2

[State 11, 3]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 600

[State 11, 3]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 602

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 603

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 604

[State 600,1]
type=PlaySnd
trigger1=Time=5
value=1,0

[State 200, 1]
type = HitDef
trigger1=!Time
attr = S, NA			;Attribute: Standing, Normal Attack
damage = 37, 0			;Damage that move inflicts, guard damage
animtype =hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8			;Time attacker pauses, time opponent shakes
sparkno = -1				;Spark anim no (Def: set above)
sparkxy = var(52):=30,var(53):=-20	;X-offset for the "hit spark" rel. to p2,
					;Y-offset for the spark rel. to p1
hitsound = s5, 2		;Sound to play on hit
guardsound = s5, 1			;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -2,20		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,20			;X-velocity at which opponent is pushed,
fall=1					;Y-velocity at which opponent is pushed
air.hittime = 12
EnvShake.time = 10
EnvShake.freq = 60
EnvShake.ampl = -4
EnvShake.phase = 90

[State 640, 5]
type = ChangeState
trigger1 = Time = 26
value = 50
ctrl = 1

[Statedef 630]
type=A
movetype=A
physics=A
juggle=3
poweradd=20
ctrl=0
sprpriority=2

[State 11, 3]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 610

[State 11, 3]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1610

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 2610

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 3610

[State 630,1]
type=PlaySnd
trigger1=Time=1
value=0,0

[State 630,1]
type=PlaySnd
trigger1=Time=10
value=0,12

[State 630,HitDef]
type=HitDef
trigger1=!Time
attr=A,NA
damage=20
guardflag=HA
priority=3
pausetime=12,10
sparkno=s9998
sparkxy=-5,-17
hitsound=s5,3
guardsound=s6,0
ground.type=High
ground.slidetime=6
ground.hittime=6
ground.velocity=-2
air.velocity=-2,-1

;--------------------
;---------------------------------------------------------------------------
; Jump Strong Punch
; CNS difficulty: easy
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 70
ctrl = 0
anim = 620

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S32,8

[State 0, VelSet]
type = VelSet
trigger1 = time= 4
x = 4
y = 15


[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA			;Attribute: Standing, Normal Attack
damage = 23, 0			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8			;Time attacker pauses, time opponent shakes
sparkno = S11010				;Spark anim no (Def: set above)
sparkxy = -0, -10		;X-offset for the "hit spark" rel. to p2,
					;Y-offset for the spark rel. to p1
hitsound = S1, 4			;Sound to play on hit
guardsound = S3, 0			;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,
					;Y-velocity at which opponent is pushed
air.hittime = 12			;Time before opponent regains control in air
fall = 1


[State 0, ChangeAnim]
type = Changestate
trigger1 = Pos y > -10
value = 621
;elem = 1
;ignorehitpause =
;persistent =


;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;===============================================================================

[StateDef 621]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 621
sprpriority = 2

;------------------------
; Helpers  de la explosion
[State 3500:		Helper]
type		= Helper
trigger1	= time = 0
helpertype	= Normal
name		= "Giga-Explosion"
id		= 3902
pos		= 0, 0
postype		= p1
facing		= 1
stateno		= 3902
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S10,10


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 60
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 622
pos = 0,15
sprpriority = 5
postype = p1
scale = .35,.35
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 1038
pos = 0,2
sprpriority = -5
postype = p1
scale = .5,.5
ignorehitpause = 0

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
[Statedef 3902]
movetype	= A
anim		= 3903
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
sprpriority	= 2

[State 0, Trans]
type = Trans
trigger1 = (!time)
trans = add
;ignorehitpause =
;persistent =


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 50
animtype = Light
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = -1
sparkxy = 0, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-7
air.type = High
air.velocity = -4,-7
air.hittime = 12
fall = 1
sprpriority = 400



[State 2450:	DestroySelf]
type			= DestroySelf
trigger1                = animtime = 0

;-----------------------
;super jump
[Statedef 707]
type=A
movetype=I
physics=A
velset=0,0
ctrl=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0
value = 707,0
volume = 0
channel = -1
freqmul = 1.0
loop = 0

[State 41, SparkleG.Helper]
type = Helper
trigger1 = Time >=1 && Time <= 10
name = "SparkleG"
stateno = 11104
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11104
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 0]
type=Veladd
trigger1=Vel X>=0 && vel x<4 && vel y<0
trigger1=command="holdfwd"
x=0.4

[State 0]
type=Veladd
trigger1=Vel X<=0 && vel x>-4 && vel y<0
trigger1=command="holdback"
x=-0.4

[State x]
type=Veladd
trigger1=(command !="holdback") && (command !="holdfwd")
x=ifelse(Vel X<0,0.2,ifelse(Vel X>0,-0.2,0))

[State 0]
type=VelSet
trigger1=!time
x=const(velocity.jump.neu.x)
y=-16.0

[State 50, 2]
type = ChangeAnim
triggerall = var(7) = 0
trigger1 = !time
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 2]
type = ChangeAnim
triggerall = var(7) = 1
trigger1 = !time
value = ifelse((vel x)=0, 10041, ifelse((vel x)>0, 10042, 10043))

[State 50, 2]
type = ChangeAnim
triggerall = var(7) = 2
trigger1 = !time
value = ifelse((vel x)=0, 20041, ifelse((vel x)>0, 20042, 20043))

[State 50, 2]
type = ChangeAnim
triggerall = var(7) = 3
trigger1 = !time
value = ifelse((vel x)=0, 30041, ifelse((vel x)>0, 30042, 30043))


[State 50,3]
type=ChangeAnim
trigger1=Vel y>-2
trigger1=SelfAnimExist(anim+3)
persistent=0
value=Anim+3

[State 0]
type=ChangeState
trigger1=(var(59)>0)&&(p2bodydist y<-50)&&(vel y>0)
value=551
ctrl=1

[State 0]
type=ChangeState
trigger1=(var(59)>0)&&(random>100)&&(p2bodydist x=[0,30])&&(p2bodydist y=[-70,0])
value=ifelse(random>500,410,ifelse(random>500,430,ifelse(random>500,440,ifelse(random>500,450,400))))

[State 0]
type=ChangeState
trigger1=time>10
trigger1=pos y>=0
value=50

;--------------

;-------------------------------------------------------------------------------
[Statedef 710]
type = S
movetype= I
physics = S
juggle = 9
velset = 0,0
ctrl = 0
anim = 495
poweradd = -1000

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1014

[State 0]
type = ReversalDef
trigger1 = time
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = s1066
sparkxy = -10,0
hitsound = s2,0
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
v = 25
value = 1

[State 400]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "Invincible Mode"
id = 20002
pos = 16,-20
stateno = 20002
keyctrl = 1
bindtime = -1

[State 700,EnvShake]
type	= EnvShake
trigger1= animelem = 3
time= 5
freq= 60
ampl= -4
phase= 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,13

[State 0, Flash]
type = allPalFX
trigger1 = animelem = 3
time = 3
add = 256,256,256

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1570
pos = 0,-20
postype = p1
scale = .5,.5
pausemove = 20
supermove = 20
ownpal = -1
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 1851
pos = -6,-15
postype = p1
scale = .3,.3
pausemove = 20
ownpal = -1
sprpriority = 5

[State 700,ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;Palm Wave
[StateDef 800]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1520
poweradd = -200

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 1056
pos = -15,-4
postype = p1
sprpriority = -2
scale = .1,.1
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 1056
pos = -10,6
postype = p1
sprpriority = 2
scale = .1,.1
ignorehitpause = 0


[State 105, 1]
type = AfterImage
Trigger1 = time = 6
length = 10
PalColor = 0
TimeGap = 1
FrameGap = 3
Trans = Add1
time = 10

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "shockwave"
ID = 801
stateno = 801
pos = 20,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale=.25
size.yscale=.25

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 60
ampl = -4
;phase =
;ignorehitpause = 0
;persistent = 1

[State 265, 18]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HP
animtype  = Hard
damage    = 50
guardflag = MA
pausetime = 5,0
sparkno = -1
sparkxy = -10,-70
hitsound   = s0,3
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7,-4
air.type = Low
air.velocity = -4.2,-1.2
guard.velocity = -0.1
airguard.velocity = 0
fall = 1

[State 237,Brilho]
type = Explod
trigger1 =(movecontact)
anim = 1850+(moveguarded)
ID = 237
pos = 0,-76
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
ontop = 1
ownpal =1
ignorehitpause = 1
persistent = 0
scale = .75,.75

[State 237,Brilho]
type = Explod
trigger1 =(ProjHit 85732 = 1)
anim = 1850+(Projguarded  85732 = 1)
ID = 237
pos = 0,-76
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
ontop = 1
ownpal =1
ignorehitpause = 1
persistent = 0
scale = .5,.5

[State 730, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 500,2

[State 0, Projectile]
type = Projectile
trigger1 = animelem = 3
ProjID = 85732
projanim = 85732
projhitanim = -1
damage = 50
attr = S, HP
guardflag = MA
damage = 3,1
animtype = heavy
;projscale = 1,1
;projremove = 1
projremovetime = 100
velocity = 8,0
sparkxy = -10,-70
sparkno = -1
ground.velocity = -15,-8
air.animtype = Back
air.velocity = -2.5,-5
;projhits = 1
;projmisstime = 0
projpriority = 1
fall = 1
fall.recover = 0
ignorehitpause = 0
persistent = 1

[State 500, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------
;Effect Scockwave
[Statedef 801]
type = A
movetype = A
physics = N
ctrl = 0
anim = 777
sprpriority = 5
velset = 0,0

[State 1006, assert]
type=assertspecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .1+(.05*time),.1+(.05*time)

[State 0]
type = trans
trigger1 = 1
trans = add
;alpha =

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime  = 0
;--------------------------
[StateDef 11104]
type = A
physics = N
movetype = A
velset = 0, 0
anim = IfElse(Parent,Var(1)=0,11100,11110)
ctrl = 0
sprpriority = 0

[State 11104, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11104, SparkleG.VelVarY]
type = VarRandom
trigger1 = time = 0
v = 14
range = -1,-3

[State 11104, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 15
range = 1,3

[State 11104, VelAdd.XY]
type = VelAdd
trigger1 = 1
y = 0.005
x = ifelse(sysvar(1)=0, 0, ifelse(sysvar(1)=1, -0.005, 0.005))

[State 11104, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = ifelse(sysvar(1)=0, Var(14), ifelse(sysvar(1)=1, Var(14)*0.75, Var(14)*0.75))

[State 11104, VelSet.X]
type = VelSet
trigger1 = Time = 1
X = ifelse(sysvar(1)=0, 0, ifelse(sysvar(1)=1, Var(15), -Var(15)))

[State 11104, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;-------------------------------------------------------------------------------
;------------Super dragon fist
[StateDef 5999]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5999
poweradd = -3000

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 2,-40
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = 1000,2

[State 0, PlaySnd]
type = PlaySnd
trigger1=timemod = 28,0
trigger1=Time >= 30
value = 501,11
channel = 3

[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && BackEdgeBodyDist <= 0
value = 20
ctrl = 1


[State 0]
type = Explod
trigger1 = time =350
anim =1503
pos = -6,-35
postype = p2
facing = 1
vfacing = 1
bindtime = 555
ontop=0
scale = 1,1
sprpriority = 10
removeongethit = 1
removetime=85

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=10
value = S250,8
volume = 999999
channel = -5
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=10
value = S0,31
volume = 999999
channel = -5
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=72
value = S2850,0
volume = 999999
channel = -5
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=125
value = s8192,0
volume = 999999
channel = -5
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, Explod]
type = Explod
trigger1 = animelem=5 && Pos y >= 0
anim = 1031
pos = -2,8
postype = p1
facing = 1
vfacing = 1
bindtime = 100000000000000
vel = 0,0
accel = 0,0
random = 0,0
removetime =30
supermove =1
pausemove=0
scale = .5,.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 =time=0
time =70
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,100
invertall = 0
color = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = time=70
value = 255,255,255
time = 20
under =0
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 =projhit=1
triggerall=timemod=7,0
anim =2200
ID =1111
pos =30,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime =9999999999999999999999999
vel = 0,0
accel = 0,0
random = 0,0
removetime =45
supermove
pausemove
scale =.25,.25
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1700, 1]
type=SuperPause
trigger1=time=0
pos=9999,-9999
time =200
movetime=200
Darken=0



[State 4000, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodyDist < -1)
movecamera = 0,0
value	= 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time=0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time =265

 [State 0]
type = Explod
trigger1 = time=30
anim =755
pos = -6,2
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=71
bindtime = -1
supermove=1
pausemove=0
scale = .35,.3
ontop=1
sprpriority = 2
removeongethit = 1

 [State 0]
type = Explod
trigger1 = time=121
anim =755
pos = -3,8
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=100
bindtime = -1
supermove=1
pausemove=0
scale = .5,.3
ontop=1
sprpriority = 2
removeongethit = 1

 [State 0]
type = Explod
trigger1 = time=121
anim =2002
pos = -8,-18
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=120
bindtime = -1
supermove=1
pausemove=0
scale = .5,.5
ontop=1
sprpriority = 2
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=15
value = 501,3
volume = 999999
channel = 5
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem= 5
value = s10,9
volume = 999999
channel = -7
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0


 [State 0]
type = Explod
trigger1 = time=121
anim =1026
pos = -2,3
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=100
bindtime = -1
supermove=1
pausemove=0
scale = .5,.5
sprpriority = -2
removeongethit = 1



 [State 0]
type = Explod
trigger1 = time=0
anim = 1030
pos = 0,-20
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=150
bindtime = -1
supermove=1
pausemove=0
scale = .5,.5
ontop=1
sprpriority = 0
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=165
value = S1999,72
volume = -500
channel = -8
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=15
value = S5170,0
volume = 0
channel = -10
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=165
value = S400,2
volume = -500
channel = -8
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S1444,1
volume = 8
channel = 8
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, posadd]
type = posadd
trigger1 = animelem=14
x = p2bodydist x -5
y = 0
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=14
value = 430,0


[State 1999, 1]
type = Projectile
trigger1 = AnimElem =14
projanim = 1995
projhitanim = 545454
projhits=300
projremovetime=90
projpriority = 1
projheightbound = -400, 100
projedgebound = 100
projscreenbound = 100
bindtime=99
projshadow = 0
offset =-45,-43
projscale=1,1
velocity =2
attr = S, SP
damage   =5,5
animtype = heavy
hitflag = MAFDP
pausetime = 1,5
hitsound   = s39,0
sparkno= 20455454010
sparkxy = 50,50
guardsound = s39,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -30,-3
air.animtype = Back
air.velocity = -30,3
air.juggle = 3
air.fall = 1
down.velocity = -30,3
down.hittime = 30
down.bounce = 0
fall=1
persistent		= 0
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
palfx.time=100

[State 0, EnvShake]
type = EnvShake
trigger1 = time=242
time = 80
freq = 60
ampl = -4
phase = 90


[State 1999, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1;

 ;---------------------------------------------------------------------------
[StateDef 6000]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6000

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16000

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26000

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36000

[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command = "hold_s"
trigger1 = animtime = 0
value = 6001
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 1
trigger1 = animtime = 0
value = 6001
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command != "hold_s"
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6001]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6001

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16001

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26001

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36001


;rocas
[State 0, Explod]
type = Explod
trigger1=var(7) = 2 || var(7) = 3
trigger1 = timemod = 7,1
anim = 7050+random%2
ID = 7050
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1-random%4
accel = 0,0
random = 200,0
removetime = -2
pausemovetime = 0
scale = (5+random%4)*.1,(5+random%4)*.1
sprpriority = -5+random%10
ontop = 0
shadow = 1,1,0
ownpal = 1
removeongethit = 0

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = time = 0
anim = 6004
id = 6001
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.45
bindtime = -1
removetime = -1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 1
trigger1 = time = 0
anim = 16004
id = 6001
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.45
bindtime = -1
removetime = -1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 2
trigger1 = time = 0
anim = 26004
id = 6001
pos = -8,5
postype = p1  ;p2,front,back,left,right
sprpriority = -5
ownpal = 1
scale = 0.3,0.4
removetime = -1
supermove = 1
bindtime = -1

[State 0]
type = Explod
triggerall = var(7) = 3
trigger1 = time = 0
anim = 7034
id = 6001
pos = -8,5
postype = p1  ;p2,front,back,left,right
sprpriority = 5
ownpal = 1
scale = 0.2,0.2
removetime = -1
supermove = 1
bindtime = -1




[State 1000,red aura]
type=Explod
trigger1=timemod = 18,0
trigger1=Time >= 0
trigger1=var(7) = 0 || var(7) = 1
anim=7102
ID  =  1050
pos=-12,6
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime= -2
scale=.5,.5
sprpriority=0
shadow=0,0,0
ownpal=1
supermove = 1

[State 1000,red aura]
type=Explod
trigger1=timemod = 18,0
trigger1=Time >= 0
trigger1= var(7) = 0 || var(7) = 1
anim=7103
ID  =  1050
pos=12,6
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime= -2
scale=.5,.5
sprpriority=0
shadow=0,0,0
ownpal=1
supermove = 1

[State 1000,red aura]
type=Explod
trigger1=timemod = 18,0
trigger1=Time >= 0
trigger1=var(7) = 2 || var(7) = 3
anim=7102
ID  =  1050
pos=-16,6
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime= -2
scale=.5,.5
sprpriority=0
shadow=0,0,0
ownpal=1
supermove = 1

[State 1000,red aura]
type=Explod
trigger1=timemod = 18,0
trigger1=Time >= 0
trigger1=var(7) = 2  || var(7) = 3
anim=7103
ID  =  1050
pos=2,6
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime= -2
scale=.5,.5
sprpriority=0
shadow=0,0,0
ownpal=1
supermove = 1

[state 0]
type = poweradd
trigger1 = 1
value = 10

[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,5
volume = 2000
channel = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,6

[State 0]
type = playsnd
trigger1 = timemod = 72,0
value = S0,7

[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command != "hold_s"
trigger2   = power = 3000; && var(56)=0
value = 6002
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 1
trigger1 = time = 100
value = 6002
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6002]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6002

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16002

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26002

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36002

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = time = 0
anim = 6005
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.4,0.5
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 1
trigger1 = time = 0
anim = 16005
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.4,0.5
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 2
trigger1 = time = 0
anim = 16005
pos = -8,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.45,0.6
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 3
trigger1 = time = 0
anim = 16006
pos = -8,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.4,0.5
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,8

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,9

[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------


; cargar ki
[Statedef 1020]
type = S
physics = S
movetype = I
sprpriority = 0
ctrl = 0

[State 11, 3]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3020

[State 11, 3]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13020

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 33020

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
trigger2 = command != "hold_s"
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = 400,3
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 501,7

[State 830, sound2];sonido continuado
type = PlaySnd
trigger1 = (Time > 10) && ((GameTime%26) = 0)
value = 501,11
channel = 3

[state 0]
type = envshake
triggerall = var(7) = 2
trigger1 = timemod = 5,0
ampl = 2
time = 5

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = time = 0
anim = 6004
id = 6001
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.45
bindtime = -1
removetime = -1
supermove = 1

[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 5


[State 1000,aura ssj]
type=Explod
triggerall = var(7) = 3
triggerall=!var(9)
trigger1=Pos Y>=0
trigger1=animelem=2
anim=7034;7030
id=1050
pos=0,4
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime=-1
scale=.25,.2
sprpriority=3
ontop=1
shadow=0,0,0
ownpal=1
removeongethit=1

[State 1000,red aura]
type=Explod
triggerall = var(7) = 3
trigger1=timemod = 18,0
trigger1=Time >= 5
anim=7033
ID  =  1050
pos=0,2
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime= -2
scale=.6,.55
sprpriority=0
shadow=0,0,0
ownpal=1


[State 1000,particulas de eenergia]
type=Explod
triggerall = var(7) = 3
trigger1=Time>2
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=40
supermove=1
scale=0.3,0.3
ownpal=1
random=30,0
vel=ifelse(random<500,.8,-.8),-1.5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_s"
id = 1050


[State 0, 4]
type = ChangeState
trigger1 = command != "hold_s"
value = 0
ctrl = 1











; cargar ki AI
[Statedef 1021]
type = S
physics = S
movetype = I
sprpriority = 0
ctrl = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 3020
value = 3020

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
trigger2 = command != "hold_a"
trigger3 = command != "hold_b"
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = 400,3
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 501,7

[State 830, sound2];sonido continuado
type = PlaySnd
trigger1 = (Time > 10) && ((GameTime%26) = 0)
value = 501,11
channel = 3

[State 1000,aura]
type=Explod
triggerall=!var(9)
trigger1=Pos Y>=0
trigger1=animelem=2
anim=1001
id=1050
pos=0,0
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime=-1
scale=1,1
sprpriority=3
ontop=1
shadow=0,0,0
ownpal=1
removeongethit=1

[State 1000,aura ssj]
type=Explod
triggerall=var(9)=1
trigger1=Pos Y>=0
trigger1=animelem=2
anim=1002
id=1050
pos=0,0
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime=-1
scale=1,1
sprpriority=3
ontop=1
shadow=0,0,0
ownpal=1
removeongethit=1

[State 1000,electricidad]
type=Explod
trigger1=timemod = 18,0
trigger1=Time >= 5
anim=1003
ID  =  1050
pos=0,7
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime= -2
scale=1,1
sprpriority=3
ontop=1
shadow=0,0,0
ownpal=1

[State 1000,particulas de eenergia]
type=Explod
trigger1=Time>2
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=40
supermove=1
scale=0.3,0.3
ownpal=1
random=30,0
vel=ifelse(random<500,.8,-.8),-1.5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_a"
trigger2 = command != "hold_b"
id = 1050


[State 0, 4]
type = ChangeState
trigger1 = command != "hold_a"
trigger2 = command != "hold_b"
value = 0
ctrl = 1

;-------------------------------------------------------------------------------












;-------------------------------------------------------------------------------
; Esfectos especiales de ki
[Statedef 1022]
type = A
physics = N
sprpriority = -100
ctrl = 0
anim = 755

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToRoot]
type = BindToRoot
trigger1 =1
facing = 1
pos = 0,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = -300+(power*0.1),-300+(power*0.1),-300+(power*0.1)
mul = 0,256,256
invertall = 0
color = 0









;-------------------------------------------------------------------------------

; disparar rafaga de ki
[StateDef 1000]
type = S
movetype = A
physics = S
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(6) >= 6
v = 6
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = time = 0
v = 6
value = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = 1
triggerall = var(7)= 0
trigger1 = var(6)= 1
trigger2 = var(6)= 3
trigger3 = var(6)= 5
value = 4000

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = 1
triggerall = var(7)= 0
trigger1 = var(6)= 2
trigger2 = var(6)= 4
trigger3 = var(6)= 0
value = 4001

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = 1
triggerall = var(7)= 1
trigger1 = var(6)= 1
trigger2 = var(6)= 3
trigger3 = var(6)= 5
value = 114000

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = 1
triggerall = var(7)= 1
trigger1 = var(6)= 2
trigger2 = var(6)= 4
trigger3 = var(6)= 0
value = 114001

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = 1
triggerall = var(7)= 2
trigger1 = var(6)= 1
trigger2 = var(6)= 3
trigger3 = var(6)= 5
value = 214000

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = 1
triggerall = var(7)= 2
trigger1 = var(6)= 2
trigger2 = var(6)= 4
trigger3 = var(6)= 0
value = 214001

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = 1
triggerall = var(7)= 3
trigger1 = var(6)= 1
trigger2 = var(6)= 3
trigger3 = var(6)= 5
value = 314000

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = 1
triggerall = var(7)= 3
trigger1 = var(6)= 2
trigger2 = var(6)= 4
trigger3 = var(6)= 0
value = 314001


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 501,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = anim = 4001
value = 501,15

[State 0, Helper]
type = Helper
triggerall = animelem = 3
trigger1 = anim = 4001
trigger2 = anim = 4000
trigger3 = anim = 114001
trigger4 = anim = 114000
trigger5 = anim = 214001
trigger6 = anim = 214000
trigger7 = anim = 314001
trigger8 = anim = 314000
pos = 21,-29
postype = p1
ID = 50
stateno = 1001
helpertype = normal
name = "rafaga de ki"
ownpal = 1
size.xscale=.5
size.yscale=.5


[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;rafaga
[StateDef 1001]
type = A
movetype = A
physics = N
anim = 2003
ctrl = 0
sprpriority = 500
poweradd = -5

[State 100, shadow]
type = AfterImage
trigger1 = 1
Time = -1
FrameGap = 1 ;8
TimeGap  = 1
length = 9   ;30
PalBright   =  -0, -0,  -0
Palmul = 0.6 , 0.6 , 0.6
PalAdd      =   0,  0,  0
;PalMul      =  1,1,1
Trans = Add
persistent = 0

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = 5,0;ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 15, ceil(P2Dist x), 15)),0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 0
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1
size.yscale = 1
size.xscale = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1002
time = -1

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 17
range = -6,6

[State 0, VelSet] ; velocidad inicial
type = VelSet
trigger1 = time = 0
x = 10
y = var(17)*.1

[State 210,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,SA
animtype=Medium
damage=10
hitflag = MADF
guardflag=MA
pausetime= 3,10
sparkno= -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= -1
air.velocity= -2,-1
getpower = 0

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 370, end2]
type = changestate
trigger1 = movecontact
value = 1002

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 370, end2]
type = DestroySelf
trigger1 = ScreenPos X != [0,359]
trigger2 = ScreenPos y != [-10,250]

;explota
[StateDef 1002]
type = A
physics = N
anim = 1504
ctrl = 0
sprpriority = 500

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = time = 0
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = 501,16

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 370, end2]
type = DestroySelf
trigger1 = animtime = 0













; disparar rafaga de ki desde el aire
[StateDef 1003]
type = A
movetype = A
physics = A
ctrl = 0
anim = 407

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 501,10

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
pos = 21,-18
postype = p1
ID = 50
stateno = 1004
helpertype = normal
name = "rafaga de ki"
ownpal = 1
size.xscale=.5
size.yscale=.5

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;rafaga aerea
[StateDef 1004]
type = A
movetype = A
physics = N
anim = 2003
ctrl = 0
sprpriority = 500
poweradd = -5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 500, Angle]
type = AngleSet
trigger1 = vel x >= 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = vel x < 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+ 180

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, 2]
type = VelSet
trigger1 = Time = 0
X = ((ABS(P2Dist X))/15)

[State 0, VelSet]
type = VelSet
trigger1 = p2dist y < 0
trigger1 = time = 0
y = ((ABS(P2Dist y-20))/-15)

[State 0, VelSet]
type = VelSet
trigger1 = p2dist y > 0
trigger1 = time = 0
y = ((ABS(P2Dist y-20))/15)

[State 0, VelAdd]
type = VelAdd
trigger1 = vel x <= 2
x = .1

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 10
trigger1 = vel x <= 4
x = .1


[State 100, shadow]
type = AfterImage
trigger1 = 1
Time = -1
FrameGap = 1 ;8
TimeGap  = 1
length = 9   ;30
PalBright   =  -0, -0,  -0
Palmul = 0.6 , 0.6 , 0.6
PalAdd      =   0,  0,  0
;PalMul      =  1,1,1
Trans = Add
persistent = 0




[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1002
time = -1

[State 210,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,SA
animtype=Medium
damage=10
hitflag = MADF
guardflag=MA
pausetime= 3,10
sparkno= -1
sparkxy= 0,0
guardsound=s6,0
ground.type=High
ground.slidetime=8
ground.hittime=6
ground.velocity= -1
air.velocity= -2,-1
getpower = 0

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 370, end2]
type = changestate
trigger1 = movecontact
trigger2 = pos y >= 0
value = 1002

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 370, end2]
type = DestroySelf
trigger1 = ScreenPos X != [0,359]
trigger2 = ScreenPos y != [-10,250]




;-------------------------------------------------------------------------------
; TELEPORT Attack

[statedef 1010]
type = A
Movetype = I
physics = N
poweradd = -200
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = 501,6

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 5
anim = 405
pos = 0,0
postype = p1
removetime = -2
scale = .75,.75
sprpriority = 20
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 4
flag = invisible

[state 702, 2]
type = posset
trigger1 = facing = 1
trigger1 = time = 4
x = enemy,pos x + 50
y = 0

[state 702, 2]
type = posset
trigger1 = facing = -1
trigger1 = time = 4
x = enemy,pos x - 50
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time >= 4
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 4

[state 702 ,5]
type = changestate
trigger1 = time = 5
value = 230

;---------------------------------------------------------------------------

;Medium Elbow Smash
[StateDef 1034]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10034
poweradd = 20
sprpriority = 2
facep2 = 1

[State 40, 1]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 10034

[State 40, 1]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 10035

[State 1034, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 17
y = 0

[State 1034, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 30
length = 6
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1
timegap = 2
framegap = 2
trans = add1

[State 1034]
type = Explod
trigger1 = animelem = 3
anim = 1056
ID = 7000
pos = -20,4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 0.3,0.3
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 1034]
type = PlaySnd
trigger1 = animelem = 3
value = 100,1
volume = 100

[State 1034]
type = PlaySnd
trigger1 = animelem = 4
value = 1,8
volume = 255

[State 1034]
type = HitDef
trigger1 = Time = 0
attr = S, SA
hitflag = MAFDP
guardflag = HLA
animtype = hard
priority = 7, Hit
damage = 46,8
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound = S2, 1
guardsound = s2, 2
ground.type = high
ground.slidetime= 18
ground.hittime = 20
air.hittime = 10
ground.velocity = -5,-6
air.velocity = -6,-4
guard.velocity = -4
airguard.velocity = -2,-2
ground.cornerpush.veloff = 0
down.velocity = -1,-2
down.bounce = 1
fall = 1
fall.recover = 0
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4

[State 1034, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1036
ctrl = 1

[Statedef 1036]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1036
poweradd = 0

[State 1036]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


; disparar multiples rafaga de ki
[StateDef 1060]
type = A
movetype = A
physics = N
ctrl = 0
anim = 408
poweradd = -1000



[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = pos y < 0
value = 407

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time >= 6
trigger1 = timemod = 6,0
value = 501,10

[State 0, Helper]
type = Helper
trigger1 = time >= 6
trigger1 = timemod = 6,0
pos = 28,-29
postype = p1
ID = 50
stateno = 1061
helpertype = normal
name = "rafaga de ki"
ownpal = 1
size.xscale=.5
size.yscale=.5

[State 0, end]
type = ChangeState
trigger1 = Time >= 70
value = 0
ctrl = 1

;rafaga multiple
[StateDef 1061]
type = A
movetype = A
physics = N
anim = 2003
ctrl = 0
sprpriority = 500
poweradd = -5

[State 500, Angle]
type = AngleSet
trigger1 = vel x >= 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = vel x < 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+ 180

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 100, shadow]
type = AfterImage
trigger1 = 1
Time = -1
FrameGap = 1 ;8
TimeGap  = 1
length = 9   ;30
PalBright   =  -0, -0,  -0
Palmul = 0.6 , 0.6 , 0.6
PalAdd      =   0,  0,  0
;PalMul      =  1,1,1
Trans = Add
persistent = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1002
time = -1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 0, VarRandom]
type = VarRandom
trigger1 = root,pos y >= -10
v = 17
range = -6,6

[State 0, VarRandom]
type = VarRandom
trigger1 = root,pos y < -10
v = 17
range = 6,60

[State 0, VelSet] ; velocidad inicial
type = VelSet
trigger1 = time = 0
x = 10
y = var(17)*.1

[State 210,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,SA
animtype=Medium
damage= 20
hitflag = MADF
guardflag=MA
pausetime= 3,10
sparkno= -1
sparkxy= 0,0
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= -1
air.velocity= -2,-1
getpower = 0

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 370, end2]
type = changestate
trigger1 = movecontact
trigger2 = pos y >= 0
value = 1002

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 370, end2]
type = DestroySelf
trigger1 = ScreenPos X != [0,359]
trigger2 = ScreenPos y != [-10,250]








;-------------------------------------------------------------------------------

; Explosion de ki chica
[StateDef 1070]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0

[State 40, 1]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 43020

[State 40, 1]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 43021

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(7) = 2
trigger1 = animelem = 1
value = 501,13

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(7) = 2
trigger1 = animelem = 2
value = 500,2

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(7) = 3
trigger1 = animelem = 1
value = 500,4

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(7) = 3
trigger1 = animelem = 2
value = 500,2

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 1750
pos = 0,2
postype = p1
scale = .25,.25
ignorehitpause = 0

[State 0, Helper]
type = Helper
triggerall = var(7) = 3
trigger1 = animelem = 2
pos = 0,-15
postype = p1
ID = 1071
stateno = 1073
helpertype = normal
name = "explosion de ki"
ownpal = 1
size.xscale=.25
size.yscale=.25

[State 0, Helper]
type = Helper
triggerall = var(7) = 2
trigger1 = animelem = 2
pos = 0,-25
postype = p1
ID = 1071
stateno = 1072
helpertype = normal
name = "explosion de ki"
ownpal = 1
size.xscale=.5
size.yscale=.5


[State 0, Helper]
type = Helper
triggerall = var(7) = 2
trigger1 = animelem = 2
pos = 0,0
postype = p1
ID = 1071
stateno = 1071
helpertype = normal
name = "explosion de ki"
ownpal = 1
size.xscale=.30
size.yscale=.25

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;ki hacia arriba
[StateDef 1071]
type = A
movetype = A
physics = N
anim = 2526
ctrl = 0
sprpriority = 500
poweradd = -20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 20
animtype = Light
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = -1
sparkxy = 0, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-7
air.type = High
air.velocity = -4,-7
air.hittime = 12
fall = 1
sprpriority = 500

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;Ki circular
[StateDef 1072]
type = A
movetype = A
physics = N
anim = 1850
ctrl = 0
sprpriority = 400
poweradd = -20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 10
animtype = Light
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = -1
sparkxy = 0, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-7
air.type = High
air.velocity = -4,-7
air.hittime = 12
fall = 1
sprpriority = 400

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;Ki circular
[StateDef 1073]
type = A
movetype = A
physics = N
anim = 1851
ctrl = 0
sprpriority = 400
poweradd = -20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, 1]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 10
animtype = Light
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = 0, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-7
air.type = High
air.velocity = -4,-7
air.hittime = 12
fall = 1
sprpriority = 400

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;-------------------------------------------------------------------------------

; Modo Kaioken
[StateDef 1080]
type = A
movetype = A
physics = N
ctrl = 0
anim = 3020
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 500

[State Invincible Mode letras]
type = Explod
trigger1 = !time
anim = 1072
ID = 1072
pos = 40,65
facing = ifelse(facing=-1,-1,1)
postype = back
scale = .5,.5
ownpal = -1
sprpriority=20
bindtime = -1
removetime = -1


[State 100, shadow]
type = AfterImage
trigger1 = time = 0
Time = -1
FrameGap = 1 ;8
TimeGap  = 1
length = 30   ;30
PalBright   =  -0, -0,  -0
Palmul = 0.9 , 0.9 , 0.9
PalAdd      =   5,  2,  -5
;PalMul      =  1,1,1
Trans = Add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 400,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 500,2

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
pos = 0,-25
postype = p1
ID = 1071
stateno = 1072
helpertype = normal
name = "explosion de ki"
ownpal = 1
size.xscale=.5
size.yscale=.5


[State 0, end]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Taioken
[Statedef 1090]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= -50
ctrl = 0
anim = 409
sprpriority = 2
velset = 0,0

[State 12, 1]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 409

[State 12, 1]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 509

[State 0]
type = PlaySnd
trigger1 = time = 0
value = 4001, 0

[State 0]
type = PlaySnd
trigger1 = time = 3
value = 4001, 1

[State 0]
type = Explod
trigger1 = time = 3
anim = 410
pos = 0, -28
scale = 1,1
bindtime = -1
sprpriority = 3
ownpal = 1
supermovetime = -2

[State 2200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = high
damage    = 0
guardflag = MA
pausetime = 0,60
sparkno = -1
sparkxy= var(52):=30,var(53):=-30
hitsound   = s900,2
guardsound = s900,2
ground.type = high
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = 0
air.velocity = -2.5,-3.5
getpower = 0
air.fall = 1
palfx.time = 25
palfx.sinadd = 150,150,256,50
palfx.add = 0,0,0
palfx.mul = 256,256,256

[state 0, CLAREAR]
type = BgPalFx
trigger1 = time = 3
add = 0,0,0
sinadd = 150,150,255,100
time = 50

[state 0, CLAREAR]
type = PalFx
trigger1 = time = 3
add = 0,0,0
sinadd = 150,150,255,100
time = 40

[State 2200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------------------
;===============================================================================================
;Explosion
[Statedef 3200]
type			= S
movetype		= A
physics		= S
anim			= 3200
ctrl			= 0
poweradd		= -1000
facep2		= 1
hitdefpersist 	= 0
movehitpersist	= 0
hitcountpersist	= 1
sprpriority 	= 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 165

[State 970, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,6
volume = 255

[State 0:       Pause]
type                    = Pause
trigger1                = !Time
time                    = 90
movetime                = 90

[State 3000, Super Charge]
type = Explod
trigger1 = (!time)
anim = 1255
ID = 9190
pos = -4,-25
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
pausemovetime           = 999
ignorehitpause  = 1

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 2
value = S18,9
volume = 255
channel = 5

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 2
value = S18,10
volume = 255
channel= 3


[State 998,4]
type=EnvColor
trigger1= animelem = 1
value=0, 0, 0
time= 35
under=1

[State 7030:	EnvShake]
type			= EnvShake
trigger1 		= animelem = 2
time			= 50
freq			= 140
ampl			= -4
phase			= 90

;eclairs
[State 800, 5]
type = Explod
trigger1 = AnimElem = 2
Anim = 1030
Pos = 5,-10
Id = 9960
sprpriority = 5
removeongethit = 1
removetime = 50
bindtime = -1
Postype = p1
;ontop = 1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = .25,.25
pausemovetime           = 999

;eclairs
[State 800, 5]
type = Explod
trigger1 = AnimElem = 2
Anim = 1030
Pos = 5,-20
Id = 9960
sprpriority = 5
removeongethit = 1
removetime = 80
bindtime = -1
Postype = p1
;ontop = 1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = .25,.25
pausemovetime           = 999

[State 191, efecto suelo ]
type			= Explod
trigger1		= animelem = 2
anim			= 1031
id			= 7590
pos			= 0,4
postype		= p1
bindtime		= -1
removetime		= 50
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
pausemovetime           = 999

[State 191,Rocas]
type			= Explod
trigger1		= time = 50
anim			= 7650
id			= 7650
pos			= 0,0
postype		= p1
bindtime		= -1
removetime		= -2
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
pausemovetime           = 999



[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 3
value = S18,8
volume = 255

[State 4500,3]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "circle"
id = 7500
pos = 0,-40
postype = p1
bindtime = -1
size.xscale = 2
size.yscale = 2
stateno = 7500
keyctrl = 1
ownpal = 1

[State 191,Rocas]
type			= Explod
trigger1		= animelem = 3
anim			= 1503
id			= 7650
pos			= 0,-10
postype		= p1
bindtime		= -1
removetime		= -2
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
pausemovetime           = 999


[State 191,Rocas]
type			= Explod
trigger1		= animelem = 6
anim			= 1503
id			= 7650
pos			= -60,-100
postype		= p1
bindtime		= -1
removetime		= -2
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
pausemovetime           = 999

[State 191,Rocas]
type			= Explod
trigger1		= animelem = 9
anim			= 1503
id			= 7650
pos			= 80,-10
postype		= p1
bindtime		= -1
removetime		= -2
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
pausemovetime           = 999

[State 191,Rocas]
type			= Explod
trigger1		= animelem = 12
anim			= 1503
id			= 7650
pos			= 40,-100
postype		= p1
bindtime		= -1
removetime		= -2
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
pausemovetime           = 999

[State 191,Rocas]
type			= Explod
trigger1		= animelem = 15
anim			= 1503
id			= 7650
pos			= -80,-10
postype		= p1
bindtime		= -1
removetime		= -2
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
pausemovetime           = 999

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 3
value = S500,5
volume = 355
channel= 1

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 3
value = S501,4
volume = 255
channel= 2

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 6
value = S501,4
volume = 255
channel= 3

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 9
value = S501,4
volume = 255
channel= 3

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 12
value = S501,4
volume = 255
channel= 4

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 12
value = S501,4
volume = 255
channel= 5

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 3
value = S420,4
volume = 255

;[state 4500,allpalfx]
;type = allpalfx
;trigger1 = time = 100
;time = 50
;add = 0,0,0
;sinadd = 255,255,255,90;60

[State 4500,4]
type=ChangeState
trigger1= AnimTime= 0
value = 0
ctrl=1

;--------------------------------------
;Spirit Absorb
[Statedef 3800]
type    = S
movetype= I
physics = S
poweradd= -3000
ctrl = 0
anim = 3800

[State 0, VarSet]
type = VarSet
trigger1 = time =0
v = 59    ;fv = 10
value = 0
;ignorehitpause =
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = animelem = 4
value = 255,255,255
time = 2
under = 1
;ignorehitpause =
;persistent =

[State 2050, 3]
type = PlaySnd
trigger1 = animelem = 4
value = 998, 14
volume = 100

[State 1311]
type = PlaySnd
trigger1 = animelem = 7
value = 45, 15
volume = 255

[State 1311]
type = PlaySnd
trigger1 = animelem = 7
value = 998, 16
volume = 255


[State 1311]
type = PlaySnd
trigger1 = animelem = 10
value = 45, 24
volume = 255

[State 1311]
type = PlaySnd
trigger1 = animelem = 10
value = 1009999,14;40, 4
volume = 255

[State 0, EnvColor]
type = EnvColor
trigger1 = animelem = 11
value = 255,255,255
time = 2
under = 1
;ignorehitpause =
;persistent =

[State 1311]
type = PlaySnd
trigger1 = animelem = 11
value = 9999, 9
volume = 255

[State 1311]
type = PlaySnd
trigger1 = animelem = 11
value = 45, 31
volume = 255


[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 755
pos = -5,4
postype = p1
facing = 1
vfacing = 1
bindtime = 2
vel = 0,0
accel = 0,0
random = 0,0
removetime = 70
supermove
pausemove
scale = .5,.4
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
;persistent =

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 5
v = 35
value = 1
ignorehitpause = 0
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 5
v = 36
value = 5000
ignorehitpause = 0
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 5
v = 40
value = 1
ignorehitpause = 0
persistent = 1

[State 1400, 2]
type=Projectile
trigger1 = animelem = 5
sprpriority=-1
projanim=3805
projremovetime=24
projhits=1
projmisstime=6
offset=0, -40
velocity=0, 0
attr=S, HP
damage=100,50
animtype=Hard
pausetime=0,0
sparkno=-1
hitsound=5,3
guardflag=MA
guardsound=6,0
ground.type=Low
ground.slidetime=15
ground.hittime=16
ground.velocity= -10, -15
air.animtype=Back
air.velocity=0,0
air.juggle=1
fall=1

[State 0:    Helper]
type            = Helper
trigger1 = animelem = 5
helpertype	    = normal
name		    = "shockwave"
id              = 3802
pos = -5,-25
postype         = p1
facing		    = 1
stateno	        = 3802
keyctrl	        = 0
ownpal		    = 1
supermovetime	= 900
pausemovetime	= 900
size.xscale	    = .15
size.yscale	    = .15

[State 1010, 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------
;aura ring
[Statedef 3802]
type            = S
movetype        = A
physics         = S
anim            = 3501
ctrl            = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 10
;---------------


[State 0]
type = null;EnvShake
trigger1 = time = 0
trigger2 = timemod =10,1
time = 30
freq = 110
ampl = -2
phase = 60


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow
;flag2 =
;flag3 =
;ignorehitpause = 0
;persistent = 1

[State 0, AngleDraw]
type = AngleDraw

trigger1 = 1
scale = .2+(.05*time),.2+(.05*time)
ignorehitpause = 1
persistent = 1

[State 7300, trans]
type = Trans
trigger1 = 1
trans = add


[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 70
;ignorehitpause = 0
;persistent = 1

;circle
[Statedef 7500]
type 			= A
movetype		= A
physics		= N
anim			= 1850
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 4501]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 4501:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 10
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 4501,3]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 4501, Hit Definition]
type = HitDef
trigger1 = time = 0
attr = S,NA
hitflag = MAF
guardflag =MA
animtype = Hard
air.animtype = Back
fall.animtype = Back
hitsound = S4500,1
guardsound = S4500,1
damage = 300,5
pausetime = 5,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -20,-10
airguard.velocity = -20,-10
air.type = High
air.velocity = -20,-10
air.hittime = 10
fall = 1
p2stateno = 5600
envshake.freq = 500
envshake.ampl = -10
envshake.time = 30

[State 3001:	DestroySelf]
type			= DestroySelf
trigger1		= animtime = 0
ignorehitpause	= 1

;-----------------------------------
;---------------------------------------------------------------------------
[Statedef 5600]
type = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim]
type = ChangeAnim2
trigger1 = 1
value = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5601

;----------------------------------------------------------------------------
;-----------------------------------------------------------------------------
;Giga-Explosion Mystica
[Statedef 3900]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3900
poweradd = -3000
sprpriority = 2

[State 0, VelSet]
type = VelSet
triggerall= Pos y >= 0
trigger1 = time >= 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = S3,9
channel = 2

[State 3100: EnvShake]
type   = EnvShake
trigger1   = time > 8 && ((GameTime%10) = 0)
time   = 50
freq   = 120
ampl   = -2
phase   = 50

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 40
movetime = 0
anim = -1
sound = -1
darken = 0

[State 0]
type = null;EnvShake
trigger1 = time = 0
trigger2 = timemod =10,1
time = 30
freq = 110
ampl = -2
phase = 60

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 11
value = 5

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 12
value = -45

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 2,-40
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 3000, Super Charge]
type = Explod
trigger1 = time= 10
anim = 3925
ID = 3925
pos = -4 ,-25
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.3,0.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
removetime = 40



[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3901
ctrl = 1
;--------------------------------------------
;Giga-Explosion MysticaRelease
[Statedef 3901]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3901
poweradd = -3000
sprpriority = 2

[State 3150, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 10
volume = 300
channel = 1

[State 1000, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 1
anim =  3060
ID = 3060
pos = -25, 3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.6,0.6
Ontop = 1
removetime = -2
removeongethit = 1
sprpriority = 5


[State 1000, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 1
anim =  3060
ID = 3060
pos = 0, 3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
scale = 0.6,0.6
Ontop = 1
removetime = -2
removeongethit = 1
sprpriority = 5


[State 0, VelSet]
type = VelSet
triggerall= Pos y >= 0
trigger1 = time >= 0
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 2300, 1]
type = PlaySnd
trigger1 = time = 1
value = s420, 4
volume = 200
channel = 2

[State 2300, 1]
type = PlaySnd
trigger1 = time = 1
value = 3, 39
volume = 200
channel = 1

[State 3150, 1]
type = PlaySnd
trigger1 = time = 1
value = 3, 20
channel = -1

[State 2000, Luz]
type = Explod
trigger1 = time = 0
anim =  3930
pos = 0,-40
ID =  3930
sprpriority = 6
removeongethit = 1
removetime = 200
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
ontop = 1
scale = 0.01,0.01 ;,13

[State 0, Explod]
type = Explod
trigger1 = time = 185
anim = 3902
pos = -6,12
sprpriority = 5
postype = p1
scale = .5,.5
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 150
anim = 1038
pos = 0,2
sprpriority = -5
postype = p1
scale = 1,1
ignorehitpause = 0

[State 0]
type = modifyexplod
trigger1 = time > 0 && time < 300
id = 3930
scale = 0.00001+(0.23*time), 0.00001+(0.23*time)


;------------------------
; Helpers  de la explosion
[State 3500:		Helper]
type		= Helper
trigger1	= time = 1
helpertype	= Normal
name		= "Giga-Explosion Mystica Projectile 1"
id		= 3920
pos		= 0, 0
postype		= p1
facing		= 1
stateno		= 3920
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = Timemod = 15,13
anim = 7001
ID = 7001
pos = ifelse(power < 2000 ,-10, -20) ,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = Timemod = 15,13
anim = 7001
ID = 7001
pos = ifelse(power < 2000 ,10, 20) ,3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1


[State 0, Explod]
type = Explod
trigger1 = !time
anim = 3915
ID = 3915
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 44
supermovetime = 999
scale = 0.000444,0.000444
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[state 4500,allpalfx]
type = allpalfx
trigger1 = time = 159
time = 50
add = 0,0,0
sinadd = 255,255,255,90;60

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time <=300
ID = 3915
scale = 0.000444+(0.044*time),0.000444+(0.044*time)

[State 3150, 1]
type = PlaySnd
trigger1 = time = 30
value = 3, 47
channel = 3


;[State 2000, espacio]
;type = Explod
;triggerall = Numexplod(3905) < 1
;trigger1 = time = 120
;ID =  3905
;anim =  3905
;pos = 100,100
;postype = left
;facing = 1
;vfacing = 1
;bindtime = -1
;supermove = -1
;pausemove  = -1
;removetime = 150
;scale = 0.7,0.7
;sprpriority = 11
;removeongethit = 0
;ontop = 1

;[State 2000, esplosion]
;type = Explod
;triggerall = Numexplod(3910) < 1
;trigger1 = time = 121
;ID =  3910
;anim =  3910
;pos = 260,150
;sprpriority = 20
;removeongethit = 0
;removetime = 94
;postype = left
;bindtime = -1
;supermove = -1
;pausemove  = -1
;ontop = 1
;scale = 0.2,0.2 ;,13


[State 240, 4]
type = ChangeState
trigger1 = time = 320
value = 0
ctrl= 1

;-----------------------------------------------------------------------
;Giga-Explosion Mystica Projectile 1
[Statedef 3920]
movetype	= A
anim		= 3920
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2




;-----------------------------
; Giga-Explosion Mystica 2da parte



[State 0, Trans]
type = Trans
trigger1 = (!time)
trans = add
;ignorehitpause =
;persistent =

;------------------------------------

[STate 3551: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3551:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA



[State 1050, Hitdef]
type = Hitdef
trigger1 = (1)
attr = S, NP
hitflag	= MAFDP
guardflag= L
animtype = Hard
priority = 7, Hit
damage = 25,20
pausetime = 0,12
sparkno	= -1
sparkxy	= -10,0
;guard.sparkxy = 30, 20
guard.sparkno = -1
hitsound = s1,10
guardsound = s1,10
ground.type = Low
air.type = Trip
ground.slidetime = 20
ground.hittime = 20
air.hittime = 15
ground.velocity = -3,-6
guard.velocity = -3
air.velocity = -2,-6
airguard.velocity = -2,-6
ground.cornerpush.veloff = 0
fall = 1
fall.xvelocity = -1
fall.yvelocity = -3
fall.recover = 1
fall.recovertime = -1
air.fall = 1
down.velocity = -1,-2
down.bounce = 1
guard.kill = 0
getpower = 0
givepower = 35
envshake.time = 12
envshake.freq = 150
envshake.ampl = -5
palfx.time	= 25
Palfx.add = 224,88,0
Palfx.sinadd = 48,50,32,16
Palfx.color     = 0
Palfx.invertall = 1
p2stateno = 3930


[State 2450:	DestroySelf]
type			= DestroySelf
trigger1                = animtime = 0

;----------------------------------------------------------------------------
;Reteniendo al P2
[Statedef 3930]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1290, Anim]
type = ChangeAnim2
trigger1 = 1
value = 5001;1190

[State 1290, State]
type = SelfState
trigger1 = time = 140
value = 5035
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 5601]
type = A
movetype= H
physics = N
[State 1025, Anim]
type = ChangeAnim2
trigger1 = 1
value = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 5602

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
[Statedef 5602]
type = A
movetype= H
physics = N

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 5030

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0
volume = 2000

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 5603

;---------------------------------------------------------------------------
[Statedef 5603]
type = A
movetype= H
physics = N

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;----------------------------------------------------------------------------
;---------------------------------------------------------------------------
[StateDef 6040]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
poweradd = -1000

;[state 0]
;type = changeanim
;triggerall = var(7) = 0
;trigger1 = time = 0
;value = 6040

;[state 0]
;type = changeanim
;triggerall = var(7) = 1
;trigger1 = time = 0
;value = 16040

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 27040

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 37040

[state 0]
type = velset
triggerall = time > 60
triggerall = time < 75
trigger1 = 1
x = 1

[state 0]
type = veladd
triggerall = time > 75
trigger1 = 1
x = 4

[state 0]
type = playerpush
triggerall = time > 75
trigger1 = 1
value = 0

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animelem = 2
anim = 6004
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.45
bindtime = -1
removetime = 50
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 1
trigger1 = animelem = 2
anim = 16004
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.45
bindtime = -1
removetime = 50
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 2
trigger1 = animelem = 2
anim = 26004
pos = -8,2
postype = p1  ;p2,front,back,left,right
sprpriority = 5
ownpal = 1
scale = 0.3,0.4
removetime = 50
supermove = 1
bindtime = -1

[State 0]
type = Explod
triggerall = var(7) = 3
trigger1 = animelem = 2
anim = 7034
pos = -8,2
postype = p1  ;p2,front,back,left,right
sprpriority = 5
ownpal = 1
scale = 0.2,0.2
removetime = 50
supermove = 1
bindtime = -1


[State 0]
type = Explod
triggerall = time > 75
triggerall = time < 100
trigger1 = timemod = 1,0
anim = 6042
pos = 10,-30
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.75,0.75
removetime = -2
supermove = 1

[State 0]
type = Explod
triggerall = time > 75
triggerall = time < 100
trigger1 = timemod = 2,0
anim = 1056
pos = 0,10
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.25,0.25
ownpal = 1
supermove = 1

[State 0]
type = Explod
trigger1 = animelem = 3
anim = 6041
pos = -5,-25
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 1,1
removetime = 10
supermove = 1
bindtime = -1

[State 0]
type = Explod
trigger1 = animelem = 4
anim = 6041
pos = 35,-25
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 1,1
removetime = 30
supermove = 1
bindtime = -1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animelem = 3
anim = 6005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.9,0.9
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animelem = 3
anim = 16005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.9,0.9
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,9

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 120,60
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = S11000
hitsound = S0, 23
guardsound = S0, 23
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -1
airguard.velocity = -1
air.type = High
air.velocity = -1
air.hittime = 20
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 5
time = 10
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 5995
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S400,3

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,6

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,7

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,29

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,10

[state 0]
type = playsnd
trigger1 = animelem = 4
value = S0,30

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 7000]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 7000
poweradd = -1000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 100
anim = -1
movetime = 100

[State 0]
type = Explod
trigger1 = time = 5
anim = 755
pos = -6,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.25,0.25
bindtime = -1
removetime = 50
supermove = 1


[State 0]
type = Explod
trigger1 = time = 50
anim = 410
pos = -6,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = 16
supermove = 1

[State 0]
type = Explod
trigger1 = time = 50
anim = 1031
pos = -6,8
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = 16
supermove = 1

[State 0]
type = Explod
trigger1 = time = 50
anim = 755
pos = -6,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.35,0.35
bindtime = -1
removetime = 5
supermove = 1

[State 200, 3]
type = Explod
trigger1 = time = 10
anim = 7102
pos = -12,6
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 80
sprpriority = -1
scale = 0.5,0.5
supermove = 1

[State 200, 3]
type = Explod
trigger1 = time = 10
anim = 7103
pos = 0,6
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 80
sprpriority = -1
scale = 0.5,0.5
supermove = 1

[state 0]
type = envshake
trigger1 = animelem = 2
ampl = 2
time = 80

[state 0]
type = playsnd
trigger1 = animelemtime(2) = 5
value = S0,43

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,7

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,6


[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,8

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,9

[state 0]
type = playsnd
trigger1 = time = 55
value = S0,6

[state 0]
type = varset
trigger1 = animtime = 0
v = 7
value = 1

[state 0]
type = lifeadd
trigger1 = animelem = 3
value = 50

[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;-----------------------------------------------------------------------------

;---------------------------------------------------------------------------
[StateDef 7003]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 7003
poweradd = -1000

[State 200, 3]
type = Explod
trigger1 = time = 7
anim = 7102
pos = -12,6
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 60
sprpriority = 1
scale = 0.5,0.5
supermove = 1

[State 200, 3]
type = Explod
trigger1 = time = 7
anim = 7103
pos = 0,6
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 60
sprpriority = 1
scale = 0.5,0.5
supermove = 1

;rocas
[State 0, Explod]
type = Explod
trigger1 = timemod = 7,1
anim = 7050+random%2
ID = 7050
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1-random%4
accel = 0,0
random = 80,0
removetime = -2
pausemovetime = 0
scale = (5+random%4)*.1,(5+random%4)*.1
sprpriority = -5+random%10
ontop = 0
shadow = 1,1,0
ownpal = 1
removeongethit = 0


[State 0]
type = Explod
trigger1 = time = 0
anim = 80333
pos = -8,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = 113
supermove = 1

[State 0]
type = Explod
trigger1 = time = 100
anim = 7030
pos = -10,2
postype = p1
ownpal=1
facing = 1
ownpal=1
vfacing = 1
removetime = 30
scale = .75,.75
ontop=1
sprpriority = 0
removeongethit = 1

[State 0]
type = Explod
trigger1 = time = 80
anim = 7031
pos = -6,20
postype = p1
ownpal=1
facing = 1
ownpal=1
vfacing = 1
removetime = 60
scale = .5,.75
ontop=1
sprpriority = 4
removeongethit = 1

[State 0]
type = Explod
trigger1 = time = 40
anim = 7033
pos = -10,2
postype = p1
ownpal=1
facing = 1
ownpal=1
vfacing = 1
removetime = 20
scale = .25,.25
sprpriority = 0
removeongethit = 1

[State 0]
type = Explod
trigger1 = time = 60
anim = 7033
pos = -10,2
postype = p1
ownpal=1
facing = 1
ownpal=1
vfacing = 1
removetime = 18
scale = .5,.5
sprpriority = 0
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 1038
pos = -6,4
postype = p1
sprpriority = -5
scale = .5,.5
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 1750
pos = -6,4
postype = p1
scale = .5,.5
ignorehitpause = 0


[state 0]
type = envshake
trigger1 = animelem = 2
ampl = 1
time = 90

[State 700,EnvShake]
type	= EnvShake
trigger1= animelem = 4
time= 80
freq= 60
ampl= -4
phase= 90

[state 0]
type = playsnd
trigger1 = animelem = 1
value = S20,1

[state 0]
type = playsnd
trigger1 = animelemtime(2) = 5
value = S0,43

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,7

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,6

[state 0]
type = playsnd
trigger1 = animelem = 6
value = S0,8

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,9

[state 0]
type = playsnd
trigger1 = animelem = 6
value = S1,13

[state 0]
type = varset
trigger1 = animtime = 0
v = 7
value = 3

[state 0]
type = lifeadd
trigger1 = animelem = 3
value = 50

[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[StateDef 7005]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 7005
poweradd = -1000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 100
anim = -1
movetime = 100

[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 15

[State 700,EnvShake]
type	= EnvShake
trigger1= animelem = 3
time= 5
freq= 60
ampl= -4
phase= 90

[State 0]
type = Explod
trigger1 = time = 5
anim = 755
pos = -6,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.25,0.25
bindtime = -1
removetime = 50
supermove = 1

[State 0]
type = Explod
trigger1 = time = 50
anim = 410
pos = -6,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = 16
supermove = 1

[State 0]
type = Explod
trigger1 = time = 50
anim = 755
pos = -6,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.35,0.35
bindtime = -1
removetime = 5
supermove = 1

[State 0]
type = Explod
trigger1 = time = 10
anim = 1005
pos = -4,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.85,0.85
bindtime = -1
removetime = 50
supermove = 1

[State 0, Flash]
type = allPalFX
trigger1 = animelem = 3
time = 3
add = 256,256,256

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1061
pos = 0,-20
postype = p1
scale = .5,.5
pausemove = 20
supermove = 20
ownpal = -1
sprpriority = 5

[state 0]
type = envshake
trigger1 = animelem = 2
ampl = 2
time = 80

[state 0]
type = playsnd
trigger1 = animelemtime(2) = 5
value = S0,43

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,13

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,6

[state 0]
type = playsnd
trigger1 = animelem = 4
value = S0,8


[state 0]
type = varset
trigger1 = animtime = 0
v = 7
value = 2

[state 0]
type = lifeadd
trigger1 = animelem = 3
value = 50

[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[StateDef 7006]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 7006
poweradd = -1000


[State 0]
type = Explod
trigger1 = time = 5
anim = 6005
pos = -6,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.4,0.45
bindtime = -1
removetime = 50
supermove = 1


[State 0]
type = Explod
trigger1 = time = 50
anim = 1061
pos = -6,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = 38
supermove = 1

[State 0]
type = Explod
trigger1 = time = 50
anim = 755
pos = -6,2
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.35,0.35
bindtime = -1
removetime = 5
supermove = 1


[state 0]
type = envshake
trigger1 = animelem = 2
ampl = 2
time = 80

[state 0]
type = playsnd
trigger1 = animelemtime(2) = 5
value = S0,43

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,13

[State 700,EnvShake]
type	= EnvShake
trigger1= animelem = 3
time= 5
freq= 60
ampl= -4
phase= 90

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,7

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,6

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,8

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,9

[state 0]
type = varset
trigger1 = animtime = 0
v = 7
value = 2

[state 0]
type = lifeadd
trigger1 = animelem = 3
value = 50

[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = 1038
pos = -6,4
postype = p1
sprpriority = -5
scale = .5,.5
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = 1750
pos = -6,4
postype = p1
scale = .5,.5
ignorehitpause = 0

[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;-----------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;HitSparks
[Statedef 8000]
anim = IfElse((parent,stateno=[200,999]),8005,IfElse((parent,stateno=[1000,2999]),8007,8009))
type = A
physics = N
moveType = I
velSet = 0,0
sprPriority = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent,movetype = H
value = IfElse((parent,prevstateno=[200,999]),8005,IfElse((parent,prevstateno=[1000,2999]),8007,8009))
ignorehitpause = 1

[State 8000, Explod]
type = Explod
trigger1 = Time<=4
trigger1 = numexplod(8000)<5
anim = IfElse((parent,stateno=[200,999]),8000,IfElse((parent,stateno=[1000,2999]),8001,8002))
ID = 8000
postype = p1
vel = -5+random%11, -5+random%11
supermovetime = -1
pausemovetime = -1
scale = .25,.25
sprpriority = 5

[State 7020, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(8000)
ID = 8000
trans = addalpha
alpha = 256-16*Time,256

[State 8000, AngleDraw]
type = AngleDraw
trigger1 = Time < 10
scale = .2625+(time*.07875), .2625-(time*.02625)

[State 8000, AngleDraw]
type = AngleDraw
trigger1 = Time>=10
scale = 0,0

[State 8000, Explod]
type = Explod
trigger1 = !Time
anim = IfElse((parent,stateno=[200,999]),8006,IfElse((parent,stateno=[1000,2999]),8008,8010))
ID = 8006
postype = p1
scale = .25,.25
removetime = 14
supermovetime = -1
pausemovetime = -1
sprpriority = 5

[State 8000, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(8006)
ID = 8006
scale = 0+(.025*Time), 0+(.025*Time)

[State 8000, ModifyExplod]
type = ModifyExplod
trigger1 = time > 4
ID = 8006
trans = addalpha
alpha = Ceil(256-25.6*(Time-4)),256

[State 8011, AngleSet]
type = AngleSet
trigger1 = !Time
value = 1+random%360

[State 8011, AngleAdd]
type = AngleAdd
trigger1 = !time
value = 1+random%360

[State 8000, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 0]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7014]
type = destroyself
trigger1 = time>= 16






























































;---------------------------------------
;AI ACTIVADA
;---------------------------------------


[Statedef 9999]
anim = 9999
ctrl = 0

[State 9999, 0]
type = Turn
trigger1 = facing != parent, facing

[State 9999, 1]
type = Varset
trigger1 = 1
var(9) = parent, var(9)

[State 9999, 2]
type = ParentVarSet
triggerall = parent, RoundState = 2
trigger1 = parent, command = "x"
trigger2 = parent, command = "y"
trigger3 = parent, command = "z"
trigger4 = parent, command = "a"
trigger5 = parent, command = "holdfwd"
trigger6 = parent, command = "holdback"
trigger7 = parent, command = "holdup"
trigger8 = parent, command = "holddown"
var(9) = 1

[State 9999, 3]
type = ParentVarSet
triggerall = parent, RoundState = 2
trigger1 = (command = "x" && parent, command = "x")
trigger2 = (command = "y" && parent, command = "y")
trigger3 = (command = "z" && parent, command = "z")
trigger4 = (command = "a" && parent, command = "a")
trigger5 = (command = "holdfwd" && parent, command = "holdfwd")
trigger6 = (command = "holdback" && parent, command = "holdback")
trigger7 = (command = "holdup" && parent, command = "holdup")
trigger8 = (command = "holddown" && parent, command = "holddown")
var(9) = -1

[State 9999, 4]
type = varset
trigger1 = var(9) != parent, var(9)
V = 47
value = 0

[State 9999, 5]
type = VarAdd
trigger1 = var(9) = parent, var(9)
V = 47
value = 1

[State 9999, 6]
type = Destroyself
trigger1 = parent, var(9) = -1
trigger1 = var(47) >= 23
trigger2 = parent, var(9) = 2
trigger2 = var(47) >= 23
trigger3 = RoundState = 3
;-------------------------------------------------------------------------------

[Statedef -2]


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(18) <= 0
id = 1072

[State -3,3]
type = DisplayToClipboard
trigger1 = var(9)=1
text = "La Inteligencia Artificial funca"


[State -3,3]
type = DisplayToClipboard
trigger1 = var(9)=0
text = "La Inteligencia Artificial desactivada"


[State -2, Hit Sparks]
type = Helper
triggerAll = MoveContact = 1 && var(2) = HitPauseTime
trigger1 = MoveHit = 1 && NumEnemy
trigger2 = MoveGuarded = 1 && NumEnemy
helperType = Normal
stateNo = ifElse(MoveGuarded, 7998,8000)
ID = 8000
name = "Spark"
postype = P1
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
ontop = 1

; IA de Defensa
[State -3, IA de Defensa]
type = ChangeState
value = 132
triggerall = p2movetype = A || (enemy, NumProj >= 1) ;
triggerall = P2bodydist X <= 40 || (enemy, NumProj >= 1)
triggerall = statetype = A ; Activo unicamente si estas en el Aire
triggerall = random <= 600 ; Aquí le ponemos un poco de aleteoriedad
triggerall = var(9) = 1 ; La variable que activa la AI
triggerall = ctrl
triggerall = stateno != 132
trigger1 = p2statetype = A
trigger2 = (enemy, NumProj >= 1)

[State -3, IA de Defensa]
type = ChangeState
value = 130
triggerall = p2movetype = A || (enemy, NumProj >= 1)
triggerall = P2bodydist X <= 40 || (enemy, NumProj >= 1)
triggerall = random <= 400
triggerall = statetype != A
triggerall = var(9) = 1
triggerall = ctrl
triggerall = stateno != 120
trigger1 = p2statetype = S
trigger2 = (enemy, NumProj >= 1)

[State -3, Correr Adelante]
type = ChangeState
triggerall = var(9) = 1
triggerall = vel x = 0 ;P2bodydist X >= 50
triggerall =  pos Y= 0
triggerall = ctrl
triggerall = stateno != 20
trigger1 = P2bodydist X >= 30 && random = [0,500]
value = 20

[State -3, correr adelante]
type = ChangeState
triggerall = var(9) = 1
triggerall = vel x = 0 ;P2bodydist X >= 50
triggerall =  pos Y= 0
triggerall = ctrl
triggerall = stateno != 100
triggerall = stateno != 105
trigger1 = P2bodydist X >= 100 && random = [10,700]
value = 100





;---------------------------------------------------------------------------
; Modo Kaioken
;---------------------------------------------------------------------------

[State 0, varset]
type = varset
trigger1 = var(18) <= 0
var(18) = 0
ignorehitpause = 1

[State 0, varadd]
type = varadd
trigger1 = var(18) > 0
var(18) = -1
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(18) = 2
value = -1000

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(18) <= 0
trigger1 = stateno <= 4999
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(18) > 0
trigger1 = gametime%10 = 0
time = 10
add = 200,20,0
mul = 256,256,256
sinadd = 30,10,0,10
invertall = 0
color = 100
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = var(18) <= 0
time = 1
ignorehitpause = 1


[State 0, VarRandom]
type = VarRandom
trigger1 = var(18) > 0
v = 19
range = 20,26

[State 0, VarSet]
type = VarSet
trigger1 = var(18) > 0
v = 17
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(18) <= 0
v = 17
value = 1

[State -1,teleport combo]
type=ChangeState
triggerall = var(18) > 0
trigger1 = stateno = 260
trigger2 = stateno = 221
value= 1010

[State -1,rafaga combo]
type=ChangeState
triggerall= Command="b"
triggerall = var(18) > 0
trigger1 = stateno = 1000
trigger1 = time >= 6
value= 1000

[State -1,rafaga combo]
type=ChangeState
triggerall= Command="b"
triggerall = var(18) > 0
trigger1 = stateno = 1003
trigger1 = time >= 6
value= 1003

[State 0, VelMul]
type = Velset
triggerall = var(18) > 0
trigger1 = stateno = 100
x = 10

[State 0, VelMul]
type = Velset
triggerall = var(18) > 0
trigger1 = stateno = 20
trigger1 = command = "holdback"
x = -10

[State -1,combo]
type=ChangeState
value= var(19)*10
triggerall = var(18) > 0
triggerall= Command="a"
trigger1 = stateno=200&&movecontact
trigger2 = stateno=210&&movecontact
trigger3 = stateno=220&&movecontact
trigger4 = stateno=221&&movecontact
trigger5 = stateno=230&&movecontact
trigger6 = stateno=240&&movecontact
trigger7 = stateno=250&&movecontact
trigger8 = stateno=260&&movecontact

[State -1,combo]
type=ChangeState
value= var(19)*10
triggerall = var(18) > 0
triggerall= Command="x"
trigger1 = stateno=200&&movecontact
trigger2 = stateno=210&&movecontact
trigger3 = stateno=220&&movecontact
trigger4 = stateno=221&&movecontact
trigger5 = stateno=230&&movecontact
trigger6 = stateno=240&&movecontact
trigger7 = stateno=250&&movecontact
trigger8 = stateno=260&&movecontact

;---------------------------------------------------------------------------
;Para que el rasengan pueda chocar bien contra el Kamehameha:
;---------------------------------------------------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = stateno != [12000,12001]
trigger1 = stateno != [13000,13001]
trigger1 = stateno != [15000,15010]
v = 12
value = 0


;---------------------------------------------------------------------------
;Para que se vea el icono de choque
;---------------------------------------------------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = stateno = 12001
trigger2 = stateno = 13001
trigger3 = stateno = 15001
v = 20
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 12001
trigger1 = stateno != 13001
trigger1 = stateno != 15001
v = 20
value = 0

[State 3000, Helper Projetil]
type = Helper
trigger1 = teamside = 1
trigger1 = numhelper(88345)=0
helpertype = Normal
ID = 88345
name = "boton apretandoce"
postype = left
pos = 0,0
stateno = 88345
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=99999
pausemovetime=99999

[statedef 88345]
type = A
Movetype = I
physics = N
Anim = 2022
ctrl = 0

[State 0, PlaySnd]; sonido de choque
type = PlaySnd
trigger1 = numexplod(88345)=0
trigger1 = root,var(20)= 1
trigger1 = enemy,var(20)= 1
value = 500,6
volume = 250
channel = 5
loop = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(88345)=0
trigger1 = root,var(20)= 1
trigger1 = enemy,var(20)= 1
anim = 88345
ID = 88345
pos = 20,70
postype = left
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(88346)=0
trigger1 = root,var(20)= 1
trigger1 = enemy,var(20)= 1
anim = 88345
ID = 88346
pos = -20,70
postype = right
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(20)= 0
trigger2 = enemy,var(20)= 0
id = 88345

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(20)= 0
trigger2 = enemy,var(20)= 0
id = 88346

[State 0, StopSnd]
type = StopSnd
trigger1 = root,var(20)= 0
trigger2 = enemy,var(20)= 0
channel = 5
ignorehitpause = 1




;-------------------------------------------------------------------------------
;SuperFinish
[Statedef 60000]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 60000;animacion vacia con -1 de tiempo
sprpriority = -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,54
volume = 345

;Contornos
[State 8600, MvC]
type = explod
trigger1 = !time
anim = 60001
ID = 60001
sprpriority = 5
postype = left
pos = 0, 0
scale = 1, (1.333*480/640*120)
bindtime = -1
removetime = 20
pausemovetime = -1
supermovetime = -1
ontop = 1

;Contornos
[State 8600, Fade]
type = modifyexplod
trigger1 = numexplod(60001)
ID = 60001
scale = 1, 1
trans = addalpha
alpha = ifelse(time < 10, 256, ceil(256 -(time -10) * 25.6)), 256



;----------------------------------------------------------------------------
[Statedef -3]

;-------------------------------------------------------------------------------
;----------------------------[Invincible Mode]----------------------------------
;-------------------------------------------------------------------------------
[State 0, VarSet]
type = VarSet
trigger1 = numhelper(20002) = 0
v = 25
value = 0

[State 0, HitDef]
type = HitDef
triggerall = var (25) = 1
trigger1 = movehit
priority = 4,Hit
damage = 2
sparkno = -1

[State 0, EnvShake]
type = EnvShake
triggerall = var (25) = 1
trigger1 = !movecontact
time= 3
freq= 60
ampl= 4

[State -3, Super-Finish]
type = Helper
triggerall = winKO && var(48)=0
triggerall = stateno = [12000,18999]
triggerall= !numhelper(60000)
trigger1 = stateno = [12000,18999]
trigger2 = numhelper(stateno+9) = 1 || numhelper(stateno+12) = 1
trigger3 = helper(stateno+9),movecontact || helper(stateno+13),movecontact
helpertype = normal
stateno = 60000
ID = 60000
name = "KO FX"
postype = left
pos = 160,-125
ownpal = 1
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

;===============================================================================
;--------------------------Ataques IA-------------------------------------------
;===============================================================================
;-----------------------Supers--------------------------------------------------
;===============================================================================

[State -1, kaioken]
type = changestate
Triggerall = var(7) = 0
triggerall = var(18) <= 0
Triggerall = power >= 2000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X = [50,200]
trigger1 = Random = [200,700]
value = 1080

[State -1, Mini Genkidama]
type = changestate
Triggerall = var(7) = 0
Triggerall = power >= 2000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X = [100,200]
trigger1 = Random = [400,700]
value = 15000

[State -1, Carga Genkidama]
type = changestate
Triggerall = var(7) = 0
Triggerall = power >= 1000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X = [50,130]
trigger1 = Random = [400,700]
value = 15070

[State -1, Genkidama]
type = changestate
Triggerall = var(7) = 0
Triggerall = power >= 2000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X = [50,130]
trigger1 = Random = [400,700]
value = 15080

[State -1, kame]
type = changestate
Triggerall = power >= 1000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X = [80,130]
trigger1 = Random = [400,800]
value = 12000

[State -1, Genkidama ssj]
type = changestate
Triggerall = var(7) = 1
Triggerall = power >= 3000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X = [5,200]
trigger1 = Random = [100,800]
value = 16470

[State -1,Super Beam Aereo]
type = changestate
Triggerall = var(7) = 1
Triggerall = power >= 1000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = A
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X = [5,80]
trigger1 = Random = [200,800]
value = 16495

[State -1, kame]
type = changestate
Triggerall = var(7) = 1
Triggerall = power >= 1500
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S || StateType = A
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X = [80,130]
trigger1 = Random = [400,800]
value = 14020

[State -1, multi ki]
type = changestate
Triggerall = var(7) = 2
Triggerall = power >= 1000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X = [80,130]
trigger1 = Random = [400,800]
value = 17015

[State -1, dragon fist]
type = changestate
Triggerall = var(7) = 2
Triggerall = power >= 1000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X = [80,130]
trigger1 = Random = [450,750]
value = 6040

[State -1, Giga Explosion]
type = changestate
Triggerall = var(7) = 2
Triggerall = power >= 3000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X = [10,130]
trigger1 = Random = [400,700]
value = 3900

[State -1, ssj1]
type = changestate
Triggerall = var(7) = 0
Triggerall = power >= 1000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X >= 50
trigger1 = Random = [400,800]
value = 7000

[State -1, ssj1 - ssj3]
type = changestate
triggerall = var(7) = 1
Triggerall = power >= 1000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X >= 50
trigger1 = Random = [400,800]
value = 7005

[State -1, ssj3]
type = changestate
Triggerall = var(7) = 0
Triggerall = power = 3000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X >= 50
trigger1 = Random = [400,800]
value = 7006

[State -1, ssj god]
type = changestate
Triggerall = var(7) = 0
Triggerall = power = 3000
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X >= 50
trigger1 = Random = [200,800]
value = 7003

[State -1, teleport 1]
type = changestate
Triggerall = power >= 100
Triggerall = var(5) = 0
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X > 120
trigger1 = Random = [30,300]
value = 1010

[State -1, ki beam]
type = changestate
Triggerall = var(7) = 2
Triggerall = power >= 200
Triggerall = numhelper(510) = 0
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X > 80
trigger1 = Random = [150,400]
value = 510

[State -1, ki balls]
type = changestate
Triggerall = power >= 100
Triggerall = numhelper(1000) = 0
Triggerall = numhelper(1003) = 0
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X > 120
trigger1 = Random = [40,400]
value = 1000

[State -1, taioken]
type = changestate
Triggerall = var(7) = 0 || var(7) = 3
Triggerall = power >= 50
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X <= 60
trigger1 = Random = [50,150]
value = 1090
;==========================================================================
;                                 Normales
;==========================================================================
[State -1, Fisiko 1]
type = changestate ; Cambia de estado (Statedef), sin mas.
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X <= 15
trigger1 = Random = [10,700]
value = 230

[State -1, Fisiko 1 Combos]
type = changestate
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = random < 50
trigger1 = time > 10 && stateno = 200||stateno = 2200
value = 230

[State -1, Fisiko 2]
type = changestate
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 230
trigger1 = Random = [10,700]
value = 240

[State -1, Fisiko 2]
type = changestate
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 240
trigger1 = Random = [10,700]
value = 250

[State -1, Fisiko 2]
type = changestate
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 250
trigger1 = Random = [10,700]
value = 260

[State -1, Fisiko 1]
type = changestate ; Cambia de estado (Statedef), sin mas.
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X <= 15
trigger1 = Random = [10,700]
value = 200

[State -1, Fisiko 1 Combos]
type = changestate
Triggerall = var(7) = 0
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = random < 50
trigger1 = time > 10 && stateno = 230||stateno = 2200
value = 200

[State -1, Fisiko 2]
type = changestate
Triggerall = var(7) = 0
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 200
trigger1 = Random = [10,700]
value = 210

[State -1, Fisiko 2]
type = changestate
Triggerall = var(7) = 0
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 210
trigger1 = Random = [10,700]
value = 220

[State -1, Fisiko 2]
type = changestate
Triggerall = var(7) = 0
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 220
trigger1 = Random = [10,700]
value = 221


;ssj3

[State -1, Fisiko 1]
type = changestate ; Cambia de estado (Statedef), sin mas.
triggerall = var(7) >= 1
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = Ctrl
triggerall = P2BodyDist X <= 15
trigger1 = Random = [10,700]
value = 2200

[State -1, Fisiko 1 Combos]
type = changestate
triggerall = var(7) >= 1
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
triggerall = random < 50
trigger1 = time > 10 && stateno = 230||stateno = 2200
value = 2200

[State -1, Fisiko 2]
type = changestate
triggerall = var(7) >= 1
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 2200
trigger1 = Random = [10,700]
value = 2201

[State -1, Fisiko 2]
type = changestate
triggerall = var(7) >= 1
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 2201
trigger1 = Random = [10,700]
value = 2202

[State -1, Fisiko 2]
type = changestate
triggerall = var(7) = 3
triggerall = RoundState = 2 && var(9)
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)|| (p2statetype = A)
trigger1 = time > 7 && stateno = 2202
trigger1 = Random = [10,700]
value = 2203




;---------------------------------------------------------------------------------
;=================================================================================
[State -3, Jumping Dust]
type = Explod
triggerall = command = "holdfwd"
triggerall = stateno = 20
trigger1 = animelem = 2
trigger2 = animelem = 4
ownpal = 1
pos = 5, 5
postype = p1
bindtime = -1
anim = 3000
ID = 600
sprpriority = 2
scale = .25,.25

[State -3, Jumping Dust]
type = Explod
triggerall = command = "holdback"
triggerall = stateno = 20
trigger1 = animelem = 2
trigger2 = animelem = 4
ownpal = 1
pos = -5, 5
postype = p1
bindtime = -1
anim = 3001
ID = 601
sprpriority = 2
scale = .25,.25


 [State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 6001
id = 6001

;-------------------------------------------------------------------------------
[State 0]
type = Explod
triggerall = var(7) = 2
triggerall = life > 0
triggerall = time >= 20
triggerall = stateno != 5110
triggerall = stateno != 5210
triggerall = stateno != 1184
triggerall = stateno != 11
triggerall = stateno != 20
triggerall = stateno != 12001
trigger1 = time = 20
trigger2 = timemod = 120,0
anim = 1030
pos = -5,-25
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = .5,.5
ownpal = 1
bindtime = -1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 2
triggerall = life > 0
triggerall = time >= 20
triggerall = stateno = 11
trigger1 = time = 20
trigger2 = timemod = 120,0
anim = 1030
pos = 2,-15
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = .5,.5
ownpal = 1
bindtime = -1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 2
triggerall = life > 0
triggerall = time >= 20
triggerall = stateno = 20
triggerall = stateno = 12001
trigger1 = time = 20
trigger2 = timemod = 120,0
anim = 1030
pos = 5,-20
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = .5,.5
ownpal = 1
bindtime = -1
supermove = 1

[State 0]
type = playsnd
triggerall = var(7) = 2
triggerall = time >= 20
triggerall = life > 0
triggerall = stateno != 1184
triggerall = stateno != 5110
triggerall = stateno != 5210
trigger1 = time = 20
trigger2 = timemod = 120,0
value = S0,44

[State -3,aterrizar]
type=PlaySnd
triggerall=Time=1
trigger1=stateno=52
value=4,3













































;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;-------------------------------------------------------------------------------
;Genki
[Statedef 11110]
movetype = A
anim = 1041
ctrl = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 3
poweradd = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time
flag = unguardable

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time
value = 0

[State 10000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x <= 30
x = 0
y = 6

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x >= 31
x = 3
y = 6

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x >= 90
x = 9
y = 6

[State 0, VelSet]
type = VelSet
triggerall = pos y >= -50
trigger1 = screenpos X >= 300
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -50
y = 0
x = 0

[State 10000, No Shadow]
Type             = AssertSpecial
Trigger1         = time
Flag             = NoShadow

[State 200,HitDef]
type=HitDef
trigger1=(1)
attr=S,NA
animtype=Heavy
damage=1
guardflag=MA
hitflag=MAF
priority=1,Hit
pausetime=0,0
sparkno	= -1
ground.type=Low
ground.slidetime=13
ground.hittime=50
envshake.time=14
envshake.freq=120
envshake.ampl=4
sprpriority=3

[State 0, Explod]
type = Explod
triggerall = pos y >= -50
trigger1 = TimeMod = 15,0
anim = 1038
pos = 0,50
postype = p1
scale = 1,1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (pos y >= -50) && TimeMod = 15,0
value = S2,4

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 150
value = 11120
;-------------------------------------------------------------------------------
;Genki
[Statedef 11120]
movetype = A
anim = 1041
ctrl = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 3
poweradd = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time
flag = unguardable

[State 10000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = time
x = 3

[State 10000, No Shadow]
Type             = AssertSpecial
Trigger1         = time
Flag             = NoShadow

[State 200,HitDef]
type=HitDef
trigger1=(1)
attr=S,NA
animtype=Heavy
damage=2
guardflag=MA
hitflag=MAF
priority=1,Hit
pausetime=0,0
sparkno	= -1
ground.type=Low
ground.slidetime=13
ground.hittime=50
ground.velocity=-3
air.velocity=-3
envshake.time=14
envshake.freq=120
envshake.ampl=4
sprpriority=3

[State 0, Explod]
type = Explod
triggerall = pos y >= -50
trigger1 = TimeMod = 15,0
anim = 1038
pos = 0,50
postype = p1
scale = 1,1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (pos y >= -50) && TimeMod = 15,0
value = S2,4

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 250
value = 11111
;-------------------------------------------------------------------------------
;Genki
[Statedef 11111]
movetype = A
anim = 111042
ctrl = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 3
poweradd = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time
flag = unguardable

[State 10000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,4

[State 10000, No Shadow]
Type             = AssertSpecial
Trigger1         = time
Flag             = NoShadow

[State 200,HitDef]
type=HitDef
trigger1=!time
attr=S,NA
animtype=Heavy
damage=75
guardflag=MA
hitflag=MAF
priority=1,Hit
pausetime=4,2
sparkno	= -1
sparkxy = 0,0
ground.type=Low
ground.slidetime=13
ground.hittime=50
ground.velocity=-5,-7
air.velocity=-5,-7
envshake.time=14
envshake.freq=120
envshake.ampl=4
sprpriority=3
fall = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1038
pos = 0,50
postype = p1
scale = 1,1
ignorehitpause = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;-------------------------------------------------------------------------------
; dash de asercamiento
[Statedef 10011]
type    = A
physics = S
sprpriority = 1

[State 10, 1]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 42

[State 10, 1]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1242

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,0

[State 100,1]
type = VelSet
trigger1 = time
x = 6
y = 0

[State 1015, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100,4]
type = ChangeState
trigger1 = p2dist x <= 225
value = 50

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

;-------------------------------------------------------------------------------

;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;-------------------------------------------------------------------------------
;Dash Aura Fwd
[Statedef 10010]
type    = A
physics = S
ctrl=0
sprpriority = 1

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 1042

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 2042

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1035

[State Fx dash]
type = Explod
triggerall = pos y>=-1
trigger1 = random > 600
anim = 1056
postype = p1
pos = 20,-3
removetime = -2
vel = -1, 0
ownpal = 1
sprpriority = 0
scale = .2,.1

[State Fx dash 2]
type = Explod
triggerall = pos y>=-1
trigger1 = random > 600
anim = 1056
postype = p1
pos = 20,6
removetime = -2
vel = -1, 0
ownpal = 1
sprpriority = 2
scale = .2,.1



[State 700, flash]
type = PalFX
trigger1 = TimeMod = 4,0
time = 1
add = 100,150,200

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time
value=0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = TimeMod = 1,0
value = -2

[State 100,1]
type = VelSet
trigger1 = time
x = 11
y = 0

[State 1, Dash fx]
type = Explod
triggerall = var(7) = 2
trigger1 = animelem = 1
anim = 1034
ID = 1034
pos = 35,-20
postype = p1
bindtime = -1
removetime = -1
supermove = 1
scale = .5,.5
removeongethit = 1
ownpal = -1

[State 1, Dash fx]
type = Explod
triggerall = var(7) = 3
trigger1 = animelem = 1
anim = 1035
ID = 1034
pos = 40,-20
postype = p1
bindtime = -1
removetime = -1
supermove = 1
scale = .7,.5
removeongethit = 1
ownpal = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
trigger2 = command != "hold_z"
trigger3 = screenpos x >= 305 && time >=10
trigger4 = screenpos x <= 15 && time >=10
trigger5 = power < 3
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TimeMod = 20,0
value = S1,7

[State 0, VelSet]
type = PosAdd
trigger1 = Command="holdup"
y = -3

[State 0, VelSet]
type = PosAdd
triggerall = pos y <= -1
trigger1 = Command="holddown"
y = 3

[State 100,4]
type = ChangeState
triggerall = time >=5
trigger1 = command = "x" || command = "y"
value = 216

[State 100,4]
type = ChangeState
triggerall = time >=5
trigger1 = command = "holdback"
value = 10020

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_z"
trigger2 = screenpos x >= 305 && time >=10
trigger3 = screenpos x <= 15 && time >=10
trigger4 = power < 3
id = 1034

[State 100,4]
type = ChangeState
trigger1 = command != "hold_z"
trigger2 = screenpos x >= 305 && time >=10
trigger3 = screenpos x <= 15 && time >=10
trigger4 = power < 3
value = 50

;-------------------------------------------------------------------------------
;Dash Aura Back
[Statedef 10020]
type    = A
physics = S
ctrl=0
sprpriority = 1

[State 11, 3]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 1043

[State 11, 3]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 2043

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1034

[State Fx dash]
type = Explod
triggerall = pos y>=-1
trigger1 = random > 600
anim = 1056
postype = p1
facing = -1
pos = 0,-3
removetime = -2
vel = -1, 0
ownpal = 1
sprpriority = 0
scale = .2,.1

[State Fx dash 2]
type = Explod
triggerall = pos y>=-1
trigger1 = random > 600
anim = 1056
postype = p1
facing = -1
pos = 0,6
removetime = -2
vel = -1, 0
ownpal = 1
sprpriority = 2
scale = .2,.1

[State 700, flash]
type = PalFX
trigger1 = TimeMod = 4,0
time = 1
add = 100,150,200

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time
value=0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = TimeMod = 1,0
value = -2

[State 100,1]
type = VelSet
trigger1 = time
x = -9
y = 0

[State 1, Dash fx]
type = Explod
triggerall = var(7) = 2
trigger1 = animelem = 1
anim = 1034
ID = 1035
facing = -1
pos = -30,-23
postype = p1
bindtime = -1
removetime = -1
supermove = 1
scale = .5,.5
removeongethit = 1
ownpal = -1

[State 1, Dash fx]
type = Explod
triggerall = var(7) = 3
trigger1 = animelem = 1
anim = 1035
ID = 1035
facing = -1
pos = -40,-23
postype = p1
bindtime = -1
removetime = -1
supermove = 1
scale = .5,.6
removeongethit = 1
ownpal = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
trigger2 = command != "hold_z"
trigger3 = screenpos x >= 305 && time >=10
trigger4 = screenpos x <= 15 && time >=10
trigger5 = power < 3
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TimeMod = 20,0
value = S1,7

[State 0, VelSet]
type = PosAdd
trigger1 = Command="holdup"
y = -3

[State 0, VelSet]
type = PosAdd
triggerall = pos y <= -1
trigger1 = Command="holddown"
y = 3

[State 100,4]
type = ChangeState
triggerall = time >=5
trigger1 = command = "holdfwd"
value = 10010

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_z"
trigger2 = screenpos x >= 305 && time >=10
trigger3 = screenpos x <= 15 && time >=10
trigger4 = power < 3
id = 1035

[State 100,4]
type = ChangeState
trigger1 = command != "hold_z"
trigger2 = screenpos x >= 305 && time >=10
trigger3 = screenpos x <= 15 && time >=10
trigger4 = power < 3
value = 50

;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
; PROYECTO KAMEHAMEHA CHOQUE
[Statedef 12000]
type = S
;movetype = A
physics = N
velset = 0,0
ctrl = 0
poweradd = -1000
sprpriority = 2

[State 1000,red aura]
type=Explod
trigger1=timemod = 18,0
trigger1=Time >= 24 && Pos y >= 0
anim=7102
ID  =  1050
pos=-12,6
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime= -2
scale=.5,.5
sprpriority=0
shadow=0,0,0
ownpal=1

[State 10, 1]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 12000

[State 10, 1]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 22000

[State 10, 1]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 32000

[State 10, 1]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 42000

[State 0, VarSet]
type = VarSet
trigger1 = var(18) > 0
trigger1 = var(18) <= 10
v = 18
value = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 400,7
volume = 255
channel = 1

;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F20,0
volume = 255

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time = 0
time = 80
add = 0,0,0
mul = 256,256,256
sinadd = -100,-100,-100,160

[State 0, Pause]
type = Pause
trigger1 = time = 1
time = 80
movetime = 60
ignorehitpause = 1
endcmdbuftime = 80


[State 0, VarSet] ; determina el ganador en caso de que esten mucho tiempo
type = VarSet
trigger1 = time = 0
trigger1 = teamside = 1
v = 12
value = 0

[State 0, VarSet] ; determina el ganador en caso de que esten mucho tiempo
type = VarSet
trigger1 = time = 0
trigger1 = teamside = 2
v = 12
value = 3

[State 0, VarSet] ; determina el ganador en caso de que esten mucho tiempo
type = Varadd
trigger1 = 1
v = 12
value = 1

;---------------------------------



[State 3000, Particulas acercandoce]
type = Helper
trigger1 = AnimElem = 2
trigger1 = numhelper(12002)=0
helpertype = Normal
ID = 12002
name = "particulas de energia"
postype = p1
pos = 0,0
stateno = 12002
ownpal = 1
keyctrl = 0
supermovetime=1000
pausemovetime=1000

[State 3000, Helper Projetil]
type = Helper
trigger1 = AnimElem = 3
trigger1 = numhelper(12000)=0
helpertype = Normal
ID = 12000
name = "Kamehameha choque"
postype = p1
pos = 22,-19
stateno = 12005
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 3000, Helper Projetil]
type = Helper
triggerall = var(7) != 2
trigger1 = AnimElem = 3
trigger1 = numhelper(12015)=0
helpertype = Normal
ID = 12015
name = "efecto del kamehameha"
postype = p1
pos = -9,-20
stateno = 12015
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 3000, Helper Projetil]
type = Helper
triggerall = var(7) != 2
trigger1 = time >= 50
trigger1 = numhelper(12016)=0
helpertype = Normal
ID = 12016
name = "luz kamehameha"
postype = p1
pos = -9,-20
stateno = 12016
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

-----------------

[State 3000, Helper Projetil]
type = Helper
triggerall = var(7) = 2
trigger1 = AnimElem = 3
trigger1 = numhelper(22015)=0
helpertype = Normal
ID = 22015
name = "efecto del kamehameha"
postype = p1
pos = -9,-20
stateno = 22015
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 3000, Helper Projetil]
type = Helper
triggerall = var(7) = 2
trigger1 = time >= 50
trigger1 = numhelper(22016)=0
helpertype = Normal
ID = 22016
name = "luz kamehameha"
postype = p1
pos = -9,-20
stateno = 22016
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000



[State 0, Explod]
type = Explod
triggerall = var(7) = 2
trigger1 = time >= 75
trigger1 = timemod = 27,0
anim = 1004
ID = 501
pos = -11,-23
postype = p1
removetime = -2
supermovetime=1000
pausemovetime=1000
scale = .4,.3
sprpriority = 600
ownpal = 1
removeongethit = 1

[State 3000, 2]
type = ChangeState
trigger1 = command != "hold_x"
trigger1 = time >= 70
value = 12001

;lanza el kamehameha
[Statedef 12001]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 10, 1]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 12001

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(7) = 0
trigger1 = time = 0
trigger1 = pos y < 0
value = 12002

[State 10, 1]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 22001

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(7) = 1
trigger1 = time = 0
trigger1 = pos y < 0
value = 22002

[State 10, 1]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 32001

[State 10, 1]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 42001

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(7) = 3
trigger1 = time = 0
trigger1 = pos y < 0
value = 42002

[State 0, VarSet]
type = VarSet
trigger1 = var(18) > 0
trigger1 = var(18) <= 10
v = 18
value = 10
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 501


[State 0]
type = Explod
trigger1 = time = 0 && Pos y >= 0
anim = 1056
pos = 25,0
sprpriority = -100
postype = p1  ;p2,front,back,left,right
removetime = 120
removeongethit = 1
bindtime = -1
scale = 0.2,0.2
supermove = 1

[State 0]
type = Explod
trigger1 = time = 0 && Pos y >= 0
anim = 1056
pos = 8,6
postype = p1  ;p2,front,back,left,right
removetime = 120
removeongethit = 1
bindtime = -1
sprpriority = 4
ontop = 1
scale = 0.2,0.2
ownpal = 1
supermove = 1

[State 3000, Helper Projetil]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "efecto de mano"
postype = p1
pos = 15,-20
stateno = 12013
ownpal = 1
keyctrl = 0
size.xscale= 0.25
size.yscale= 0.5
supermovetime=1000
pausemovetime=1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 400,1
volume = 255

[State 3000, 2]
type = ChangeState
trigger1 = numhelper(12000)= 0
trigger2 = helper(12000),stateno = 12009
trigger2 = helper(12000),time >= 20
triggerall = time >= 20
value = 0
ctrl = 1


;------helper generador de particulas-------

[Statedef 12002]
type = S
anim = 2022
sprpriority = 10

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0


[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 33
range = -50,50

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 44
range = -50,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2501,0

[State 190, Concentrando gelo]
type= helper
trigger1= timemod = 3,0
helpertype=normal
stateno = 12008
ID= 191
name= "Power Particle"
postype=p1
pos= var(33),var(44)
size.yscale = .03
size.xscale = .03
supermovetime=1000
pausemovetime=1000

[State 9999, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 12000


;-----helper particulas-------

[Statedef 12008]
type = S
anim = 511
sprpriority = 10


[State 191, vel]
type=velset
triggerall = var(7) != 2
trigger1= 1
x=(rootdist x-15)/5
y=(rootdist y-18)/5


[State 9999, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 9999, DestroySelf]
type = DestroySelf
trigger1 = Time >= 16
trigger2 = root,stateno != 12000



; efecto bola de kamehameha creciendo
[Statedef 12015]
type = A
;movetype = A
physics = N
velset = 0,0
anim = 6020
ctrl = 0
sprpriority = 500

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = var(9) <= 100
v = 9
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(var(9)*0.0025),0+(var(9)*0.0025)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -14,-18
ignorehitpause = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 12000


; iluminacion kamehameha creciendo
[Statedef 12016]
type = A
;movetype = A
physics = N
velset = 0,0
anim = 406
ctrl = 0
sprpriority = 10

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = -1
add = -170,-170,-170
mul = 256,256,256
sinadd = -5,-5,-5,10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = var(9) <= 100
v = 9
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(var(9)*0.0015),0+(var(9)*0.0015)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -14,-18
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 12000




; efecto bola de kamehameha creciendo
[Statedef 22015]
type = A
;movetype = A
physics = N
velset = 0,0
anim = 6020
ctrl = 0
sprpriority = 500

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = var(9) <= 100
v = 9
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(var(9)*0.0025),0+(var(9)*0.0025)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -12,-22
ignorehitpause = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 12000


; iluminacion kamehameha creciendo
[Statedef 22016]
type = A
;movetype = A
physics = N
velset = 0,0
anim = 406
ctrl = 0
sprpriority = 10

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = -1
add = -170,-170,-170
mul = 256,256,256
sinadd = -5,-5,-5,10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = var(9) <= 100
v = 9
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(var(9)*0.0015),0+(var(9)*0.0015)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -12,-22
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 12000

;-------------------------------------------------------------------------------
;kamehameha inicial (bola pequeña)
[Statedef 12005]
type = A
;movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2022

[State 3000, Helper Projetil]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(12010)=0
helpertype = Normal
ID = 12010
name = "efecto de kamehameha"
postype = p1
pos = 0,0
stateno = 12010
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 32,6
volume = 255

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -15,-20

[State 0, VarSet] ; tamaño en x  (de 0 a 50) (multiplicar por 0,001)
type = VarSet
trigger1 = 1
v = 10
value = 1

[State 0, VarSet] ; tamaño en y
type = VarSet
trigger1 = time = 0
v = 11
value = 1

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 11
range = 1,5

[State 0, ChangeState]
type = ChangeState
trigger1 = root,stateno = 12001
value = 12006

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [12000,12001]
value = 12009

;-------------------------------------------------------------------------------
;kamehameha inicial se agranda y se estira
[Statedef 12006]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = timerfreeze
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1= 1
value = 2021
elem = var(10)
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-23
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim!= 2021
trigger1 = time = 0
trigger1 = prevstateno = 12005
value = 2021
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = time = 0
trigger1 = prevstateno != 12005
trigger1 = var(10) >= 5
v = 10 ; x
value = -3
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = var(10) <= 48
v = 10 ; x
value = 2
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = var(25) >= 300
trigger1 = root,var(12) > enemy,var(12)
v = 10 ; x
value = 3
ignorehitpause = 1

[State 0, varAdd]
type = VarSet
trigger1 = var(10) >= 50
v = 10 ; x
value = 50
ignorehitpause = 1

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(10) < 0
v = 10 ; x
value = 0
ignorehitpause = 1



[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [0,15]
trigger1 = var(11) <= 40
v = 11 ; y
value = 2
ignorehitpause = 1



[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [16,26]
trigger1 = var(11) <= 24
v = 11 ; y
value = 1
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [16,26]
trigger1 = var(11) >= 26
v = 11 ; y
value = -1
ignorehitpause = 1



[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [27,60]
trigger1 = var(11) <= 19
v = 11 ; y
value = 1
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [27,60]
trigger1 = var(11) >= 21
v = 11 ; y
value = -1
ignorehitpause = 1



[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(11) > 40
v = 11 ; y
value = 40
ignorehitpause = 1

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(11) < 0
v = 11 ; y
value = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = time = 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 12006
time = -1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno != 12005
trigger1 = p2stateno != [5000,5999]
trigger1 = root,stateno != [5000,5999]
anim = ifelse(random < 500,11010,11011)
ID = 7105
pos = var(10)*6,0
postype = p1
random = 0,30
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = 1,.5
sprpriority = 500
ontop = 1
ownpal = 1
ignorehitpause = 1



[State 200,HitDef]
type=HitDef
trigger1= 1;timemod = 2,1
attr= S,HA
animtype=Light
damage= 0
guardflag=
hitflag= MADF
priority=1,hit
pausetime= 0,0
sparkno= -1
guard.sparkno= -1
sparkxy= 0,0
;hitsound= s5,0;ifelse(random < 250,0,11011)
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= -1
air.velocity= -.3,-.7
guard.dist = 0
kill = 0
sprpriority = 1000

[State 0, varAdd]
type = VarAdd
triggerall = var(10) <= 49
trigger1= root,command = "x"
trigger2= root,command = "y"
trigger3= root,command = "z"
trigger4= root,command = "a"
trigger5= root,command = "b"
trigger6= root,command = "c"
;trigger7= root,var(59) = 1
;trigger7= timemod = 7,0
;trigger8= root,var(59) = 1
;trigger8= time = 0
v = 10 ; x
value = 2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 25
value = root,time
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = p2stateno = [5000,5999]
value = 12007
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [12000,12001]
trigger3 = var(25) >= 200
trigger3 = var(10) <= 5
trigger4 = time >= 60
trigger4 = p2movetype != H
value = 12009
ignorehitpause = 1


;-------------------------------------------------------------------------------
;acaba con el enemigo
[Statedef 12007]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 0, AttackMulSet] ; para que sea mas fuerte en modo kaioken
type = AttackMulSet
trigger1 = root,var(7) >= 2
value = 2

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(10) < 0
v = 10 ; x
value = 0

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(11) < 0
v = 11 ; y
value = 0



[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(12)>= 300
v = 12
value = 300


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2500,2
volume = 255
channel = 4

[State 0, varAdd]
type = VarAdd
trigger1 = var(10) <= 60
v = 10 ; x
value = 2

[State 0, varAdd]
type = VarAdd
trigger1 = var(11) <= 25
v = 11 ; y
value = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-23
time = 4
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 0, HitOverride]
type = HitOverride
trigger1 = time = 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 12007
time = -1

[State 0, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 3010, 2]
type = HitDef
trigger1 = Time %3 = 0 && Time <= 72
attr = A, HP
damage = 2
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 6 , Hit
sprpriority = 6
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
;hitsound = S20, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 17
ground.velocity = -30,0
air.velocity = -5, -1
air.hittime = 20
palfx.time = 50
air.fall = 1
fall.recover = 0
palfx.add = 0,100,150
palfx.mul = 256,256,256
palfx.sinadd = 0,50,50,5



[State 3010, 3]
type = HitDef
trigger1 = Time = 73
attr = A, HP
damage = 80+(parent,var(12)*0.4)
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 7,Hit
sprpriority = 6
pausetime = 0, 20
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
;hitsound = S1, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = 50
ground.hittime  = 20
ground.velocity = -10, -3
airguard.velocity = -5
air.type = High
air.velocity = -10, -4
air.hittime = 20
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,100,150
palfx.mul = 256,256,256
palfx.sinadd = 0,50,50,5

[State 6040, spark]
type=explod
trigger1 = Time %3 = 0 && Time <= 72
trigger1 = Movehit && (P2stateno=[5000,5999])
anim=11011
ID=7105
sprpriority=3
postype=p2
vfacing = ifelse(random < 500,-1,1)
vel=0,0
pos= 0,-15
random=5,35
removetime=-2
ownpal=1
removeongethit = 1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = .5,.5

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 100
value = 12009
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [12000,12001]
value = 12009


;-------------------------------------------------------------------------------
;desaparece
[Statedef 12009]
type = A
movetype = A
physics = N
velset = 0,0
anim = 2022
ctrl = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time <= 10
pos = 17,-23
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = time >= 1
trigger1 = var(11) >= 1
v = 11
value = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 80

;-------------------------------------------------------------------------------
;efecto especial
[Statedef 12010]
type = A
;movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2020
SprPriority = 300

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = root,stateno = 12000
flag = invisible
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0+(parent,var(10)*2.5),-2
time = 1000
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (parent,var(10))*0.0105,(parent,var(11))*0.005
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent,stateno = 12009
time = 100
mul = 256,256,256
sinadd = -256,-256,-256,400
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 12009
trigger1 = parent,time >= 70

;-------------------------------------------------------------------------------
;efecto de mano
[Statedef 12013]
type = A
;movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2023
SprPriority = 500

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 19,-24
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(12000),stateno = 12009
value = 12014
ignorehitpause = 1



[Statedef 12014]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+(time*0.02),1-(time*0.04)

[State 0, BindToParent]
type = BindToParent
trigger1 = time <= 5
pos = 19,-24
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 25





;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
; PROYECTO BOLA DE KI CHOQUE
[Statedef 13000]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 13000
poweradd = -1000
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = var(18) > 0
trigger1 = var(18) <= 10
v = 18
value = 10
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 6020
ID = 501
pos = -4,-20
postype = p1
bindtime = -1
removetime = -1
supermovetime = 1000
pausemovetime = 1000
scale = .25,.25
sprpriority = 500
ownpal = 1
removeongethit = 1
ignorehitpause =  1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 32,0
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 21,3
volume = 255
channel = 1

;---------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F20,0
volume = 255

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time = 0
time = 80
add = 0,0,0
mul = 256,256,256
sinadd = -100,-100,-100,160

[State 0, Pause]
type = Pause
trigger1 = time = 1
time = 80
movetime = 60
ignorehitpause = 1
endcmdbuftime = 80

[State 0, VarSet] ; determina el ganador en caso de que esten mucho tiempo
type = VarSet
trigger1 = time = 0
trigger1 = teamside = 1
v = 12
value = 0

[State 0, VarSet] ; determina el ganador en caso de que esten mucho tiempo
type = VarSet
trigger1 = time = 0
trigger1 = teamside = 2
v = 12
value = 3

[State 0, VarSet] ; determina el ganador en caso de que esten mucho tiempo
type = Varadd
trigger1 = 1
v = 12
value = 1

[State 3000, 2]
type = ChangeState
trigger1 = command != "hold_y"
trigger1 = time >= 70
value = 13001

;lanza la energia
[Statedef 13001]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 13001

[State 0, VarSet]
type = VarSet
trigger1 = var(18) > 0
trigger1 = var(18) <= 10
v = 18
value = 10
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =1
id = 501


[State 3000, Helper Projetil]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(13000)=0
helpertype = Normal
ID = 13000
name = "ki blast choque"
postype = p1
pos = 25,-19
stateno = 13005
ownpal = 1
keyctrl = 0
size.xscale= .5
size.yscale= .5
supermovetime=1000
pausemovetime=1000

[State 3000, 2]
type = ChangeState
trigger1 = numhelper(13000)= 0
trigger2 = helper(13000),stateno = 13009
trigger2 = helper(13000),time >= 20
triggerall = time >= 20
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;ESFERA es lanzada
[Statedef 13005]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 6021
sprpriority = 500

[State 0, efecto]
type = Explod
trigger1 = 1
anim = 110122
ID = 7105
pos = 0,0
postype = p1
random = 5,30
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = .5,.10
sprpriority = 20
vel=-2.5,ifelse(random<500,.5,-.5)
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, efecto]
type = Explod
trigger1 = 1
anim = 110122
ID = 7105
pos = 0,0
postype = p1
random = 5,30
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = .5,.25
sprpriority = 20
vel=-2.5,ifelse(random<500,.5,-.5)
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 1000,particulas de eenergia]
type=Explod
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=40
supermove=1
scale=0.3,0.3
ownpal=1
random=5,30
vel=-1.5,ifelse(random<500,.8,-.8)

[State 1000,particulas de eenergia]
type=Explod
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=40
supermove=1
scale= ifelse(random<500,.4,.3),ifelse(random<500,.4,.3)
ownpal=1
random=5,30
vel=-2,ifelse(random<500,.4,-.4)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 501,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 501,14

[State 0, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 0
ignorehitpause = 1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 10
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 8
y = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = time = 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 13006
time = -1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 200,HitDef]
type=HitDef
trigger1= 1;timemod = 2,1
attr= S,HA
animtype=Light
damage= 0
guardflag=
hitflag= MADF
priority=1,hit
pausetime= 0,0
sparkno= -1
sparkxy= 0,0
hitsound= s5,0;ifelse(random < 250,0,11011)
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= 5
air.velocity= 5,-.7
guard.dist = 0
kill = 0
sprpriority = 1000

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 13006

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ScreenPos X != [-20,360]


;-------------------------------------------------------------------------------
;!choca!
[Statedef 13006]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 500

[State 0, efecto]
type = Explod
trigger1 = GameTime%3=0
anim = ifelse(random < 500,11010,11011)
ID = 7105
pos = 0,0
postype = p1
random = 5,30
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = .5,.25
sprpriority = 20
vel=-2.5,ifelse(random<500,.5,-.5)
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 1000,particulas de eenergia]
type=Explod
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=40
supermove=1
scale=0.3,0.3
ownpal=1
random=5,30
vel=-1.5,ifelse(random<500,.8,-.8)

[State 1000,particulas de eenergia]
type=Explod
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=40
supermove=1
scale= ifelse(random<500,.4,.3),ifelse(random<500,.4,.3)
ownpal=1
random=5,30
vel=-2,ifelse(random<500,.4,-.4)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = prevstateno = 13005
value = 500,4
ignorehitpause = 1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 10
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = timerfreeze
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
trigger1 = prevstateno != 13005
x = -15
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = 10
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = var(25) >= 300
trigger1 = root,var(12) > enemy,var(12)
x = 15
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = time = 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 13006
time = -1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno != 13005
trigger1 = p2stateno != [5000,5999]
trigger1 = root,stateno != [5000,5999]
anim = ifelse(random < 500,11010,11011)
ID = 7105
pos = 10,0
postype = p1
random = 5,30
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = .5,.25
sprpriority = 500
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 200,HitDef]
type=HitDef
trigger1= 1;timemod = 2,1
attr= S,HA
animtype=Light
damage= 0
guardflag=
hitflag= MADF
priority=1,hit
pausetime= 0,0
sparkno= -1
sparkxy= 0,0
;hitsound= s5,0;ifelse(random < 250,0,11011)
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= 0
air.velocity= 0,0
guard.dist = 0
kill = 0
sprpriority = 1000

[State 0, PosAdd]
type = PosAdd
trigger1= root,command = "x"
trigger2= root,command = "y"
trigger3= root,command = "z"
trigger4= root,command = "a"
trigger5= root,command = "b"
trigger6= root,command = "c"
x = 20
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 25
value = root,time
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = p2stateno = [5000,5999]
value = 13007
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [13000,13001]
trigger3 = time >= 60
trigger3 = p2movetype != H
;trigger4 = var(25) >= 250
;trigger4 = rootdist x < 0
value = 13009
ignorehitpause = 1

[State 0, posadd] ; para que no se pase de largo
type = POSADD
trigger1 = p2dist x <= 0
x = -40

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ScreenPos X != [-20,360]



;-------------------------------------------------------------------------------
;acaba con el enemigo
[Statedef 13007]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 500

[state 501,1]
type = PosAdd
trigger1 = 1
x= 5*((p2dist x)/(abs(p2dist x) + abs(p2dist y) + 0.0000001))

[State 0, efecto]
type = Explod
trigger1 = GameTime%3=0
anim = ifelse(random < 500,11010,11011)
ID = 7105
pos = 0,0
postype = p1
random = 5,30
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = .5,.25
sprpriority = 20
vel=-2.5,ifelse(random<500,.5,-.5)
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 1000,particulas de eenergia]
type=Explod
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=40
supermove=1
scale=0.3,0.3
ownpal=1
random=5,30
vel=-1.5,ifelse(random<500,.8,-.8)


[State 1000,particulas de eenergia]
type=Explod
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=40
supermove=1
scale= ifelse(random<500,.4,.3),ifelse(random<500,.4,.3)
ownpal=1
random=5,30
vel=-2,ifelse(random<500,.4,-.4)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = .2
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 501,0
ignorehitpause = 1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 20
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 0, AttackMulSet] ; para que sea mas fuerte en modo kaioken
type = AttackMulSet
trigger1 = root,var(18)> 0
value = 2

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(12)>= 300
v = 12
value = 300

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = time = 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 13007
time = -1

[State 0, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 3010, 2]
type = HitDef
trigger1 = Time %3 = 0
attr = A, HP
damage = 2
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 6 , Hit
sprpriority = 6
pausetime = 0, 10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
;hitsound = S20, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 17
ground.velocity = -.1,0
air.velocity = 0,-.2
air.hittime = 20
air.fall = 1
fall.recover = 0
sprpriority = 500

[State 6040, spark]
type=explod
trigger1 = Time %3 = 0 && Time <= 72
anim=11011
ID=7105
sprpriority=3
postype=p2
vfacing = ifelse(random < 500,-1,1)
vel=0,0
pos= 0,-15
random=5,35
removetime=-2
ownpal=1
removeongethit = 1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = .5,.5

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 100
value = 13009
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [13000,13001]
value = 13009
;-------------------------------------------------------------------------------
; Explota
[Statedef 13009]
type = A
movetype = A
physics = N
velset = 0,0
anim = 6022
ctrl = 0
sprpriority = 500

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = null;AngleDraw
trigger1 = 1
trigger1 = root,stateno != [5000,5999]
scale = 2,2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 500,3

[State 3010, 3]
type = HitDef
trigger1 = Time = 0
attr = A, HP
damage = 80+(parent,var(12)*0.4)
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 7,Hit
sprpriority = 6
pausetime = 0, 20
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
;hitsound = S1, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = 50
ground.hittime  = 20
ground.velocity = -10, -3
airguard.velocity = -5
air.type = High
air.velocity = -10, -4
air.hittime = 20
fall = 1
air.fall = 1
fall.recover = 0
sprpriority = 500

[State 0, AttackMulSet] ; para que sea mas fuerte en modo kaioken
type = AttackMulSet
trigger1 = root,var(18)> 0
value = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

 ;------------------------------------------------------------------------------

;---------------------------------------------------------------------------
[StateDef 6016]
type = S
movetype= A
physics = S
ctrl = 0
sprpriority = 5
anim = 6016

[state 0]
type = veladd
trigger1 = 1
x = 3

[state 0]
type = angledraw
trigger1 = 1
scale = 0.3,0.3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, Explod]
type = Explod
trigger1 = random > 200
anim = 3022
ID = 2022
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = vel x*.05,vel y*.1
random = 4,10;0,0
removetime = -2
scale = .05,.05
sprpriority = ifelse(random > 500,4,-4)
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 20
guardsound = S0, 20
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
guard.ctrltime = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 1503
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.5,0.5
ownpal = 1

[State 0]
type = Destroyself
trigger1 = movecontact = 1
trigger2 = time = 50
;---------------------------------------------------------------------------
[StateDef 6017]
type = S
movetype= A
physics = S
ctrl = 0
sprpriority = 5
anim = 6017

[state 0]
type = veladd
trigger1 = 1
x = 3

[state 0]
type = angledraw
trigger1 = 1
scale = 0.4,0.4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256


[State 0]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 75,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 20
guardsound = S0, 20
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
guard.ctrltime = 25
ground.velocity = -5
airguard.velocity = -5
air.type = High
air.velocity = -5
air.hittime = 25
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 5
time = 10
ignorehitpause = 1

[state 0]
type = playsnd
trigger1 = movecontact = 1
value = S500,3

[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 7043
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.75,0.75
ownpal = 1

[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 622
pos = 0,60
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.5,0.5
ownpal = 1

[State 0]
type = Destroyself
trigger1 = movecontact = 1
trigger2 = time = 50





; Ataque golpe del dragon destructor!!!!!!
[Statedef 6040]; Dash inicial que lo paraliza
type    = A
movetype= a
physics = n
ctrl = 0
anim = 640

[State 0, 2]
type = Velset
trigger1 = Time = 0
y = 0
x = 10

[State 0, 2]
type = Velset
trigger1 = AnimElem = 5
y = 0
x = .5

[State 370, 1]
type = HitDef
Trigger1 = time=0
attr = s, ha
getpower  = 10
givepower = 20
guardflag =
hitflag = MAF
animtype = back
guard.sparkno = 40
sparkno=s9998
sparkxy=-10,-20
damage= 2
guard.kill = 0
kill = 0
hitsound   = s5,4
guardsound = 6,0
p1stateno = 6041
p2stateno = 6030
guard.dist = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,0

[State 105, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 6041] ; retrocede
type    = a
movetype= a
physics = n
juggle  = 8
ctrl = 0
anim = 43
velset=-3,-6

[State 100, 0]
type = veladd
trigger1 = time >=0
y= 0.4

[State 105, 3]
type = ChangeState
trigger1 = pos y >=0
trigger1 = vel y >=0
value = 6042



;-------------------------------------------------------------------------------
; Se transforma en face 3

[StateDef 6042]
type = S
movetype = A
physics = S
anim = 641
ctrl = 0
poweradd = -2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = 500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,2

[State 0, PlaySnd]
type = PlaySnd
trigger1=timemod = 20,0
trigger1=Time >= 39
value = 1000,3
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1=timemod = 28,0
trigger1=Time >= 19
value = 501,11
channel = 3

[State 0, Explod]
type = Explod
trigger1 = time = 180
anim = 1850
pos = 0,-20
postype = p1
removetime = -2
scale = 1,1
sprpriority = 100
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 293
anim = 2010
pos = 0,0
postype = p1
removetime = -2
scale = .5,.5
sprpriority = 100
shadow = 0,0,0
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 17
trigger2 = time = 155
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 17
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 1000,aura ssj]
type=Explod
trigger1=Pos Y>=0
trigger1=animelem=4
anim=1002
id=1050
pos=0,0
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime=-1
scale=1,1
sprpriority=3
ontop=1
ownpal=1
removeongethit=1

[State 1000,aura ssj3]
type=Explod
trigger1=Pos Y>=0
trigger1=animelem=6
anim=755;10022
id=1050
pos=0,0
postype=p1
bindtime=-1
removetime=-1
scale=.25,.25
sprpriority=-10
ownpal=1
removeongethit= 1

[State 1000,electricidad]
type=Explod
trigger1=timemod = 20,0
trigger1=Time >= 30
anim=10033
ID  =  1050
pos=0,7
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime= -2
scale=1,1
sprpriority=3
ontop=1
shadow=0,0,0
ownpal=1

[State 1000,electricidad]
type=Explod
trigger1=timemod = 10,0
trigger1=Time >= 150
anim=1030
ID  =  1050
pos= -1,-2
postype=p1
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random= 7,15
removetime= -2
scale=.5,.5
sprpriority=3
ontop=1
shadow=0,0,0
ownpal=1

[State 1000,particulas de eenergia]
type=Explod
trigger1=Time>2
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime=25
supermove=1
scale=0.3,0.3
ownpal=1
random=30,5
vel=ifelse(random<500,.8,-.8),-1.5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 1050



[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 6043


;Ataca
[StateDef 6043]
type = A
movetype = A
physics = N
anim = 642
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1050

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -17

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(6051)=0
helpertype = player
name = "camara"
ID = 6051
stateno = 6051
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(6050)=0
helpertype = normal
name = "dragon"
ID = 6050
stateno = 6050
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
size.xscale =1
size.yscale =1

[State 500, Angle]
type = AngleSet
trigger1 = vel x >= 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = vel x < 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+ 180

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 8305, 4]
type = VelSet
trigger1 = 1
x = (p2Dist X + 50)*0.09
y = (p2Dist Y - 15)*0.09

[State 0, 1]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 50
animtype = Light
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = -1
sparkxy = 0,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 1200
ground.velocity = -1,-4
air.type = High
air.velocity = -1.4,-3
air.hittime = 1200
fall = 1
kill = 0
guard.dist = 0
p1stateno = 6044
p2stateno = 6032
fall.recover = 0

[State 1000,electricidad]
type=Explod
trigger1= timemod = 10,0
anim=1030
pos= -1,25
postype=p1
facing=1
vfacing=1
bindtime=-1
random= 7,15
removetime= -2
scale=.5,.5
sprpriority=1000
ownpal=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 400,2

; comienza a subir
[StateDef 6044]
type = A
movetype = A
physics = N
anim = 642
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 430,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 500, Angle]
type = AngleSet
trigger1 = vel x >= 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = vel x < 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+ 180

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, VelSet]
type = Veladd
trigger1 = Vel Y > -8
y = -.2


[State 1000,electricidad]
type=Explod
trigger1= timemod = 10,0
anim=1030
pos= -1,25
postype=p1
facing=1
vfacing=1
bindtime=-1
random= 7,15
removetime= -2
scale=.5,.5
sprpriority=1000
ownpal=1

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 60
value = 6045


; gira para atacar desde el aire
[StateDef 6045]
type = A
movetype = A
physics = N
anim = 644
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 501,14

[State 500, Angle]
type = AngleSet
trigger1 = vel x >= 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = vel x < 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+ 180

[State 500, Draw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 6
y = -15

[State ****: VelAdd]
type = VelAdd
trigger1 = (P2Dist X-40 < 0) && (Vel X > -6)
x = -0.6
persistent = 1

[State ****: VelAdd]
type = VelAdd
trigger1 = (P2Dist X-40 > 0) && (Vel X < 6)
x = 0.6
persistent = 1

[State ****: VelAdd]
type = VelAdd
trigger1 = (EnemyNear, Pos Y-50 < Pos Y)&& (Vel Y > -6)
y = -0.6
persistent = 1

[State ****: VelAdd]
type = VelAdd
trigger1 = (EnemyNear, Pos Y-50 > Pos Y) && (Vel Y < 6)
y = 0.6
persistent = 1

[State 0, 1]
type = HitDef
trigger1 = 1
attr = S, HA
damage = 0
animtype = Light
guardflag =
hitflag = MADF
priority = 3, Hit
pausetime = 0, 25
sparkno = -1
sparkxy = 0,0
ground.type = High
ground.slidetime = 0
ground.hittime  = 120
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 120
fall = 1
kill = 0
guard.dist = 0
p1stateno = 6047
sprpriority = 600

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1000,electricidad]
type=Explod
trigger1= timemod = 10,0
anim=1030
pos= -1,25
postype=p1
facing=1
vfacing=1
bindtime=-1
random= 7,15
removetime= -2
scale=.5,.5
sprpriority=1000
ownpal=1

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 110
value = 6046

; cae desde el aire
[StateDef 6046]
type = A
movetype = A
physics = N
anim = 644
ctrl = 0
sprpriority = 600

[State 0, Turn]
type = null;Turn
trigger1 = time = 0
trigger1 = p2dist x <= 0

[State 500, Angle]
type = AngleSet
trigger1 = vel x > 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = vel x < 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+ 180

[State 500, Draw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 8305, 4]
type = VelSet
trigger1 = 1
x = (p2Dist X )*0.09
y = (p2Dist Y +20)*0.09

[State 0, 1]
type = HitDef
trigger1 = 1
attr = S, HA
damage = 0
animtype = Light
guardflag =
hitflag = MADF
priority = 3, Hit
pausetime = 0, 25
sparkno = -1
sparkxy = 0,0
ground.type = High
ground.slidetime = 0
ground.hittime  = 120
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 120
fall = 1
kill = 0
guard.dist = 0
p1stateno = 6047
sprpriority = 600

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1


[State 1000,electricidad]
type=Explod
trigger1= timemod = 10,0
anim=1030
pos= -1,25
postype=p1
facing=1
vfacing=1
bindtime=-1
random= 7,15
removetime= -2
scale=.5,.5
sprpriority=1000
ownpal=1

; golpea muchas veces
[StateDef 6047]
type = A
movetype = A
physics = N
anim = 644
ctrl = 0
sprpriority = 600

[State 0, AngleAdd]
type = AngleAdd
trigger1 = time = 0
value = 10
ignorehitpause = 1

[State 8305, 4]
type = VelSet
trigger1 = 1
x = (p2Dist X -20)*0.06

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 501,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 500,5

[State 500, Draw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1


[State 8305, 4]
type = VelSet
trigger1 = 1
y = 0

[State 0, 1]
type = HitDef
trigger1 = 1
attr = S, HA
damage = 3
animtype = Light
guardflag =
hitflag = MADF
priority = 3, Hit
pausetime = 3, 25
sparkno = -1
sparkxy = 0,0
hitsound = s5,0
ground.type = High
ground.slidetime = 0
ground.hittime  = 120
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 120
fall = 1
;kill = 0
sprpriority = 600
guard.dist = 0

[State 6040, spark]
type=explod
trigger1 = Timemod = 2,0
anim= ifelse(random < 500,11001,11002)
ID=7105
sprpriority=9999
postype=p1
facing = ifelse(random < 500,-1,1)
vel=0,0
pos= 5,25
random=40,5
removetime= -2
ownpal=1
ontop=1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = .5,.5

[State 6040, spark]
type=explod
trigger1 = Timemod = 6,0
anim= 11002
ID=7105
sprpriority=9999
postype=p1
facing = -1
vel=0,0
pos= 5,25
random= 40,5
removetime= -2
ownpal=1
ontop=1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = 1,1

[State 6040, spark]
type=explod
trigger1 = Timemod = 6,3
anim= 11002
ID=7105
sprpriority=9999
postype=p1
facing = 1
vel=0,0
pos= 5,25
random= 40,5
removetime= -2
ownpal=1
ontop=1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = 1,1


[State 1000,electricidad]
type=Explod
trigger1= timemod = 10,0
anim=1030
ID = 5555
pos= -1,25
postype=p1
facing=1
vfacing=1
bindtime=-1
random= 7,15
removetime= -2
scale=.5,.5
sprpriority=1000
ownpal=1

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 60
value = 6048

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time = 40
time = 150
mul = 256,256,256
sinadd = 300,300,300,300
invertall = 0
color = 256

[Statedef 6048] ; retrocede
type    = a
movetype= a
physics = n
juggle  = 8
ctrl = 0
anim = 643
velset=-3,-6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 5555

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1850
pos = 0,-20
postype = p1
removetime = -2
scale = 1,1
sprpriority = 100
shadow = 0,0,0
ownpal = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = 17

[State 100, 0]
type = veladd
trigger1 = time >=0
y= 0.4

[State 105, 3]
type = ChangeState
trigger1 = pos y >=0
trigger1 = vel y >=0
value = 6049

;se destransforma
[StateDef 6049]
type = S
movetype = A
physics = S
anim = 645
ctrl = 0
sprpriority = 600

[State 0, PosAdd]
type = Posset
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Cabeza de dragon
[StateDef 6050]
type = A
movetype = A
physics = N
anim = 3861
ctrl = 0
sprpriority = -80

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = root,stateno = [6043,6046]
trigger1 = timemod = 2,0
anim = 3860
ID = 3860
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
ownpal = 1
sprpriority = -90
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = root,stateno = [6043,6046]
trigger1 = 1
anim = 45022
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
random = 5,20
ownpal = 1
sprpriority = 200
ownpal = 1


[State 0, PalFXWiz]
type = null;PalFX
trigger1 = time = 0
time = -1
mul = 150,150,150


[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 500, Angle]
type = AngleSet
trigger1 = root,vel x >= 0
trigger1 = root,stateno = [6043,6046]
value = ((atan((-1*root,Vel Y)/root,Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = root,vel x < 0
trigger1 = root,stateno = [6043,6046]
value = ((atan((-1*root,Vel Y)/root,Vel X))*(360/(2*pi)))+ 180

[State 0, SprPriority]
type = SprPriority
trigger1 = root,stateno != [6043,6046]
value = 500

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 6048
trigger2 = root,stateno != [6040,6050]


;Camara
[StateDef 6051]
type = A
movetype = A
physics = N
anim = 646
ctrl = 0
sprpriority = -80

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = root,pos y > -150
x = 0
y = root,pos y

[State 0, PosSet]
type = PosSet
trigger1 = root,pos y <= -150
y = -150
x = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 6048
trigger2 = root,stateno != [6040,6050]
ignorehitpause = 1


















;========================state del player 2 paralizado
[Statedef 6030]
type = s
movetype = H
physics = n
ctrl = 0
anim= 5002

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[state 191, AssertSpecial Flag]
type     = assertspecial
trigger1 = 1
flag = noautoturn

[State -2, ª¦Àð¬ï¶V]
type = PlayerPush
trigger1 = 1
value = 0

[State 3000, Super D]
type = null;NotHitBy
trigger1 = 1
value = sca, aA, ap,at
time = 1

[State 372, 1]
type = ChangeAnim2
Trigger1 = time=0
value = 5002

[State 372, 1]
type = ChangeAnim
Trigger1 = time= 35
value = 5300


[State 0, 2]
type = VelSet
Trigger1 = time = 0
Trigger2 = pos y >= 0
y= 0

[State 0, 2]
type = VelSet
Trigger1 = time = 1
x= -6

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.9

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 370, end2]
type = SelfState
Trigger1 = p2stateno < 6000
value = 5050

;========================state del player 2 defendiendoce
[Statedef 6031]
type = s
movetype = H
physics = n
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(7) = 0
trigger1 = anim != 130
Trigger1 = pos y >= 0
value = 130

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(7) = 1
trigger1 = anim != 10130
Trigger1 = pos y >= 0
value = 10130

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(7) = 2
trigger1 = anim != 20130
Trigger1 = pos y >= 0
value = 20130

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 132
Trigger1 = pos y < 0
value = 132

[state 191, AssertSpecial Flag]
type     = assertspecial
trigger1 = 1
flag = noautoturn

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State -2, ª¦Àð¬ï¶V]
type = PlayerPush
trigger1 = 1
value = 0

[State 3000, Super D]
type = null;NotHitBy
trigger1 = 1
value = sca, aA, ap,at
time = 1

[State 0, 2]
type = VelSet
Trigger1 = time = 0
Trigger2 = pos y >= 0
x= 0
y= 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 370, end2]
type = SelfState
Trigger1 = p2stateno < 6000
value = 5050

;---------------------------------------------------------------------------
; Custom fall
;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 6032]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 6033

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 6033]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 0  ;.
value = 6035 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 6034 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 6034]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 0  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 6035 ;HITA_FALL
;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 6035]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 6036 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 6036]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 6038 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 6037

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 6037]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 6038

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 6038]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
;----------------------------------------------------------------------
;SuperCharges:
;----------------------------------------------------------------------

;SuperCharge-LVL2
[Statedef 6801]
physics = N
velset = 0,0
anim = 6803
sprpriority = 5



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = noFG

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 26
value = 512

[State 0, VarAdd]
type = VarAdd
triggerall = var(26)>=0
trigger1 = time >= 0
v = 26
value = -11

[State 6800, BgPalfx]
type = Null;BgPalfx
trigger1 = Time >=0
time = 1
add = 256,256,256
mul = var(26),var(26),var(26);512-ceil(21*time),512-ceil(21*time),512-ceil(21*time)
invertall = 1

[State 0, BindToParent]
type = null;BindToParent
trigger1 = 1
pos = parent,var(11),parent,var(12)

[State 0, Explod]
type = Explod
trigger1 = time = 24
anim = 6805
ID = 7005
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
supermovetime = -1
scale = 0.05,0.05
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 8520, Scale]
type = ModifyExplod
trigger1 = numexplod(7005)
ID = 7005
scale = 2 -(0.125 * (time -24)), 2 -(0.125 * (time -24))
trans = addalpha
alpha = ifelse((time -24) < 4, 64 * (time -24), 256), 256

[State 0, Explod]
type = Explod
trigger1 = time = 0 || time = 8 || time = 16 || time = 24
anim = 6804
ID = ifelse(time = 24, 7004, ifelse(time = 16, 7003, ifelse(time = 8, 7002, 7001)))
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
supermovetime = -1
scale = 1,1
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7001)
ID = 7001
scale = 1-(0.0625*time), 1-(0.0625*time)
trans = addalpha
alpha = ifelse(time < 4,64*time,256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7002)
ID = 7002
scale = 1-(0.0625*(time -8)),1-(0.0625*(time-8))
trans = addalpha
alpha = ifelse((time -8) < 4,64*(time -8),256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7003)
ID = 7003
scale = 1-(0.0625*(time-16)),1-(0.0625*(time-16))
trans = addalpha
alpha = ifelse((time -16) < 4, 64*(time -16),256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7004)
ID = 7004
scale = 1-(0.0625*(time-24)),1-(0.0625*(time-24))
trans = addalpha
alpha = ifelse((time-24) < 4,64*(time -24), 256),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time <= 10
trans = addalpha
alpha = 256,256

[State 0, Trans]
type = Trans
trigger1 = time > 10
trans = addalpha
alpha = ceil(256-(8.53*(time-10))),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 500, Angle]
type = Angleadd
trigger1 = 1
value = 15

[State 500, Draw]
type = AngleDraw
trigger1 = 1
scale = .04*time,.04*time

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0



;-------------------------------------------------------------------------------
;GuardSpark
[Statedef 7998]
anim = 7999;ifelse((parent,stateno = [200,999]),7998,7999)
type = A
physics = N
moveType = I
velSet = 0,0
sprPriority = 5

[State 8000, AngleDraw]
type = AngleDraw
triggerall = anim = 7998
trigger1 = Time >=0
scale = 0+(0.01*time),0+(0.02*time)
ignorehitpause = 1

[State 8000, AngleDraw]
type = AngleDraw
triggerall = anim = 7999
trigger1 = Time >=0
scale = 0+(0.025*time),0+(0.05*time)
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = (root,stateno >= 999) && time = 0
anim = 7995
ID = 7995
bindtime = -1
removetime = 16
pausemovetime = 0
scale = 0,0
sprpriority = 5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256,256

[State 0, ModifyExplod]
type = ModifyExplod
triggerall = numexplod(7995)
trigger1 = time >= 0
anim = 7995
ID = 7995
scale = 0+(0.0125*time),0+(0.025*time)

[State 0, ModifyExplod]
type = ModifyExplod
triggerall = numexplod(7995)
trigger1 = time < 6
anim = 7995
ID = 7995
trans = AddAlpha
alpha = 256,256

[State 0, ModifyExplod]
type = ModifyExplod
triggerall = numexplod(7995)
trigger1 = time >= 6
anim = 7995
ID = 7995
trans = AddAlpha
alpha = 256-(25*(time-6)),256

[State 8000, Transparency]
type = Trans
trigger1 = time < 6
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8000, Transparency]
type = Trans
trigger1 = time >= 6
trans = AddAlpha
alpha = 256-(25*(time-6)),256
ignoreHitPause = 1

[State 0]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7014]
type = destroyself
trigger1 = time >= 16

































;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
; SUPER KAMEHAMEHA CON TELETRANSPORTACION  (sin choque)

; armadura
[Statedef 14025]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 649
sprpriority = -2

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 14025
time = -1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
facing = 1
pos = 0,0
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != [14000,14050]


; se transforma
[Statedef 14020]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 648
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(14025)= 0
helpertype = normal
name = "armadura"
ID = 14025
stateno = 14025
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = 400,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = 500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,2

[State 0, PlaySnd]
type = PlaySnd
trigger1=timemod = 28,0
trigger1=Time >= 19
value = 501,11
channel = 3

[State 0, Explod]
type = Explod
trigger1 = time = 17
anim = 1850
pos = 0,-20
postype = p1
removetime = -2
scale = .5,.5
sprpriority = 100
shadow = 0,0,0
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 17
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 17
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 1000,aura ssj]
type=Explod
trigger1=animelem=3
anim=1002
id=1050
pos=0,0
postype=p1
bindtime=-1
removetime=-1
scale=1,1
sprpriority=50
ownpal=1
supermovetime=10000
pausemovetime=10000

[State 1000,aura ssj]
type=Explod
trigger1=animelem=3
anim=755;1002
id=1050
pos=0,0
postype=p1
bindtime=-1
removetime=-1
scale=.25,.25
sprpriority=50
ownpal=1
supermovetime=10000
pausemovetime=10000

[State 1000,particulas de eenergia]
type=Explod
trigger1=Time>2
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime= 25
supermovetime=10000
pausemovetime=10000
scale=0.3,0.3
ownpal=1
random=30,5
vel=ifelse(random<500,.8,-.8),-1.5


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 14000

; teleport
[Statedef 14021]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = 501,6

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 5
anim = 405
pos = 0,0
postype = p1
removetime = -2
scale = .75,.75
sprpriority = 20
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 4
flag = invisible

[state 702, 2]
type = posset
trigger1 = facing = 1
trigger1 = time = 4
x = enemy,pos x + 25
y = 0

[state 702, 2]
type = posset
trigger1 = facing = -1
trigger1 = time = 4
x = enemy,pos x - 25
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time >= 4
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 4

[state 702 ,5]
type = changestate
trigger1 = time = 5
value = 14001

; se destransforma
[Statedef 14022]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 647
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

; crea el kamehameha
[Statedef 14000]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 14000
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 119
value = 400,0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 18
value = 0
ignorehitpause = 1

;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F20,0
volume = 255

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time = 0
time = 80
add = 0,0,0
mul = 256,256,256
sinadd = -100,-100,-100,160

[State 0, Pause]
type = Pause
trigger1 = time = 1
time = 120
movetime = 120
ignorehitpause = 1
endcmdbuftime = 80

;---------------------------------

[State 3000, Helper Projetil]
type = Helper
trigger1 = AnimElem = 2
trigger1 = numhelper(14000)=0
helpertype = Normal
ID = 14000
name = "Kamehameha"
postype = p1
pos = 22,-19
stateno = 14005
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 3000, Helper Projetil]
type = Helper
trigger1 = AnimElem = 2
trigger1 = numhelper(14015)=0
helpertype = Normal
ID = 14015
name = "efecto del kamehameha"
postype = p1
pos = -9,-20
stateno = 14015
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 3000, Helper Projetil]
type = Helper
trigger1 = time >= 50
trigger1 = numhelper(14016)=0
helpertype = Normal
ID = 14016
name = "luz kamehameha"
postype = p1
pos = -9,-20
stateno = 14016
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 0, Explod]
type = Explod
trigger1 = time >= 75
trigger1 = timemod = 27,0
anim = 1004
ID = 501
pos = -9,-17
postype = p1
removetime = -2
supermovetime=1000
pausemovetime=1000
scale = .4,.3
sprpriority = 600
ownpal = 1
removeongethit = 1

[State 3000, 2]
type = ChangeState
trigger1 = time >= 230
value = 14021

;lanza el kamehameha
[Statedef 14001]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 14001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 501


[State 0]
type = Explod
trigger1 = time = 0
anim = 1056
pos = 25,0
sprpriority = -100
postype = p1  ;p2,front,back,left,right
removetime = 160
removeongethit = 1
bindtime = -1
scale = 0.2,0.2
supermove = 1

[State 0]
type = Explod
trigger1 = time = 0
anim = 1056
pos = 8,6
postype = p1  ;p2,front,back,left,right
removetime = 160
removeongethit = 1
bindtime = -1
sprpriority = 4
ontop = 1
scale = 0.2,0.2
ownpal = 1
supermove = 1

[State 3000, Helper Projetil]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "efecto de mano"
postype = p1
pos = 15,-20
stateno = 14013
ownpal = 1
keyctrl = 0
size.xscale= 0.25
size.yscale= 0.5
supermovetime=1000
pausemovetime=1000

[State 0, Explod]
type = Explod
triggerall = time <= 150
trigger1 = timemod = 3,0
anim = 1017
pos = 0,-31
postype = p1
facing = 1
vfacing = 1
vel = 3+(random%9),-2-(random%3)
random = 5,5
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time <= 150
trigger1 = timemod = 2,0
anim = 1018
pos = 0,-31
postype = p1
facing = 1
vfacing = 1
vel = 4+(random%9),-2-(random%3)
random = 5,10
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time <= 150
trigger1 = timemod = 3,0
anim = 1019
pos = 0,-20
postype = p1
facing = 1
vfacing = 1
vel = 3+(random%9),-2-(random%3)
random = 5,5
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1






[State 0, Explod]
type = Explod
triggerall = time <= 150
trigger1 = timemod = 3,0
anim = 1017
pos = 50,-61
postype = p1
facing = 1
vfacing = 1
vel = 3+(random%9),-2-(random%3)
random = 5,20
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time <= 150
trigger1 = timemod = 2,0
anim = 1018
pos = 50,-51
postype = p1
facing = 1
vfacing = 1
vel = 4+(random%9),-2-(random%3)
random = 5,30
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time <= 150
trigger1 = timemod = 3,0
anim = 1019
pos = 50,-40
postype = p1
facing = 1
vfacing = 1
vel = 3+(random%9),-2-(random%3)
random = 5,20
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1


















[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 400,1
volume = 255

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1050


[State 3000, 2]
type = ChangeState
trigger1 = numhelper(14000)= 0
trigger2 = helper(14000),stateno = 14009
trigger2 = helper(14000),time >= 20
triggerall = time >= 20
value = 14022

;-------------------------------------------------------------------------------
;kamehameha inicial (bola pequeña)
[Statedef 14005]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2022

[State 3000, Helper Projetil]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(14010)=0
helpertype = Normal
ID = 14010
name = "efecto de kamehameha"
postype = p1
pos = 0,0
stateno = 14010
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 32,6
volume = 255

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -15,-20

[State 0, VarSet] ; tamaño en x  (de 0 a 50) (multiplicar por 0,001)
type = VarSet
trigger1 = 1
v = 10
value = 1

[State 0, VarSet] ; tamaño en y
type = VarSet
trigger1 = 1
v = 11
value = 1

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing


[State 0, ChangeState]
type = ChangeState
trigger1 = root,stateno = 14001
value = 14007

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [14000,14051]
value = 14009

;-------------------------------------------------------------------------------
;acaba con el enemigo
[Statedef 14007]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 20211

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(10) < 0
v = 10 ; x
value = 0

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(11) < 0
v = 11 ; y
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2500,2
volume = 255
channel = 4

[State 0, varAdd]
type = VarAdd
trigger1 = var(10) <= 60
v = 10 ; x
value = 2

[State 0, varAdd]
type = VarAdd
trigger1 = var(11) <= 40
v = 11 ; y
value = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-21
time = 4
ignorehitpause = 1

[State 3010, 2]
type = HitDef
trigger1 = Time %3 = 0 && Time <= 140
attr = A, HP
damage = 4,2
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 6 , Hit
sprpriority = 6
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
;hitsound = S20, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 17
ground.velocity = -1,-1.3
air.velocity = -1, -1.3
air.hittime = 20
palfx.time = 50
air.fall = 0
fall.recover = 0
palfx.add = 0,100,150
palfx.mul = 256,256,256
palfx.sinadd = 0,50,50,5
kill = 0

[State 3010, 3]
type = HitDef
trigger1 = Time = 141
attr = A, HP
damage = 120
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 7,Hit
sprpriority = 6
pausetime = 0, 20
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
;hitsound = S1, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = 50
ground.hittime  = 20
ground.velocity = -6, -20
air.type = High
air.velocity = -6, -10
air.hittime = 20
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,100,150
palfx.mul = 256,256,256
palfx.sinadd = 0,50,50,5

[State 6040, spark]
type=explod
trigger1 = Time %3 = 0 && Time <= 140
trigger1 = Movehit && (P2stateno=[5000,5999])
anim=11011
ID=7105
sprpriority=3
postype=p2
vfacing = ifelse(random < 500,-1,1)
vel=0,0
pos= 0,-15
random=5,35
removetime=-2
ownpal=1
removeongethit = 1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = .5,.5

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 150
value = 14009
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [14000,14051]
value = 14009


;-------------------------------------------------------------------------------
;desaparece
[Statedef 14009]
type = A
movetype = A
physics = N
velset = 0,0
anim = 2022
ctrl = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time <= 10
pos = 17,-21
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = time >= 1
trigger1 = var(11) >= 1
v = 11
value = -2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 80

;-------------------------------------------------------------------------------
;efecto especial
[Statedef 14010]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 20200
SprPriority = 300

[State 0, Turn]
type = Turn
trigger1 = facing != parent,facing

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = 30
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = root,stateno = 14000
trigger2 = root,stateno = 14021
flag = invisible
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0+(parent,var(10)*2.0),0-(parent,var(10)*1.2)-15
time = 1000
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (parent,var(10))*0.0105,(parent,var(11))*0.005
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent,stateno = 14009
time = 100
mul = 256,256,256
sinadd = -256,-256,-256,400
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 14009
trigger1 = parent,time >= 70



; efecto bola de kamehameha creciendo
[Statedef 14015]
type = A
movetype = A
physics = N
velset = 0,0
anim = 6020
ctrl = 0
sprpriority = 500

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = var(9) <= 100
v = 9
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(var(9)*0.0025),0+(var(9)*0.0025)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -10,-17
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 14000


; iluminacion kamehameha creciendo
[Statedef 14016]
type = A
movetype = A
physics = N
velset = 0,0
anim = 406
ctrl = 0
sprpriority = 10

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = -1
add = -170,-170,-170
mul = 256,256,256
sinadd = -5,-5,-5,10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = var(9) <= 100
v = 9
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(var(9)*0.0015),0+(var(9)*0.0015)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -9,-17
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 14000

;-------------------------------------------------------------------------------

;-------------------------------------------------------------------------------
;efecto de mano
[Statedef 14013]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2023
SprPriority = 500

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = 30
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 16,-35
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(14000),stateno = 14009
value = 14014
ignorehitpause = 1



[Statedef 14014]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = 30
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+(time*0.02),.5-(time*0.02)

[State 0, BindToParent]
type = BindToParent
trigger1 = time <= 5
pos = 16,-35
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 25




;-------------------------------------------------------------------------------
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
; SUPER KAMEHAMEHA HACIA ADELANTE (sin choque)

; armadura
[Statedef 16025]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 649
sprpriority = -2

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 16025
time = -1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
facing = 1
pos = 0,0
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != [16000,16050]


; se transforma
[Statedef 16020]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 648
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(16025)= 0
helpertype = normal
name = "armadura"
ID = 16025
stateno = 16025
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = 400,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = 500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,2

[State 0, PlaySnd]
type = PlaySnd
trigger1=timemod = 28,0
trigger1=Time >= 19
value = 501,11
channel = 3

[State 0, Explod]
type = Explod
trigger1 = time = 17
anim = 1850
pos = 0,-20
postype = p1
removetime = -2
scale = .5,.5
sprpriority = 100
shadow = 0,0,0
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 17
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 17
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 1000,aura ssj]
type=Explod
trigger1=animelem=3
anim=1002
id=1050
pos=0,0
postype=p1
bindtime=-1
removetime=-1
scale=1,1
sprpriority=50
ownpal=1
supermovetime=10000
pausemovetime=10000

[State 1000,aura ssj]
type=Explod
trigger1=animelem=3
anim=755;1002
id=1050
pos=0,0
postype=p1
bindtime=-1
removetime=-1
scale=.25,.25
sprpriority=50
ownpal=1
supermovetime=10000
pausemovetime=10000

[State 1000,particulas de eenergia]
type=Explod
trigger1=Time>2
trigger1=GameTime%5=0
anim=2001
Id=2001
postype=p1
pos=0,0
ontop=1
removetime= 25
supermovetime=10000
pausemovetime=10000
scale=0.3,0.3
ownpal=1
random=30,5
vel=ifelse(random<500,.8,-.8),-1.5


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 16000

; se destransforma
[Statedef 16022]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 647
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

; crea el kamehameha
[Statedef 16000]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 14000
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 119
value = 400,0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 18
value = 0
ignorehitpause = 1

;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F20,0
volume = 255

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time = 0
time = 80
add = 0,0,0
mul = 256,256,256
sinadd = -100,-100,-100,160

[State 0, Pause]
type = Pause
trigger1 = time = 1
time = 120
movetime = 120
ignorehitpause = 1
endcmdbuftime = 80

;---------------------------------

[State 3000, Helper Projetil]
type = Helper
trigger1 = AnimElem = 2
trigger1 = numhelper(16000)=0
helpertype = Normal
ID = 16000
name = "Kamehameha"
postype = p1
pos = 22,-19
stateno = 16005
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 3000, Helper Projetil]
type = Helper
trigger1 = AnimElem = 2
trigger1 = numhelper(16015)=0
helpertype = Normal
ID = 16015
name = "efecto del kamehameha"
postype = p1
pos = -9,-20
stateno = 16015
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 3000, Helper Projetil]
type = Helper
trigger1 = time >= 50
trigger1 = numhelper(16016)=0
helpertype = Normal
ID = 16016
name = "luz kamehameha"
postype = p1
pos = -9,-20
stateno = 16016
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 0, Explod]
type = Explod
trigger1 = time >= 75
trigger1 = timemod = 27,0
anim = 1004
ID = 501
pos = -9,-17
postype = p1
removetime = -2
supermovetime=1000
pausemovetime=1000
scale = .4,.3
sprpriority = 600
ownpal = 1
removeongethit = 1

[State 3000, 2]
type = ChangeState
trigger1 = time >= 230
value = 16001

;lanza el kamehameha
[Statedef 16001]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 14010

[State 0]
type = Explod
trigger1 = time = 0
anim = 1056
pos = 25,0
sprpriority = -100
postype = p1  ;p2,front,back,left,right
removetime = 160
removeongethit = 1
bindtime = -1
scale = 0.2,0.2
supermove = 1

[State 0]
type = Explod
trigger1 = time = 0
anim = 1056
pos = 8,6
postype = p1  ;p2,front,back,left,right
removetime = 160
removeongethit = 1
bindtime = -1
sprpriority = 4
ontop = 1
scale = 0.2,0.2
ownpal = 1
supermove = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 501

[State 200, 3]
type = Explod
trigger1 = time = 0
anim = 7102
pos = -12,6
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 100
sprpriority = -1
scale = 0.5,0.5
supermove = 1

[State 3000, Helper Projetil]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "efecto de mano"
postype = p1
pos = 15,-20
stateno = 16013
ownpal = 1
keyctrl = 0
size.xscale= 0.25
size.yscale= 0.5
supermovetime=1000
pausemovetime=1000

[State 0, Explod]
type = Explod
triggerall = time <= 140
trigger1 = timemod = 3,0
anim = 1018
pos = 4,-8
postype = p1
facing = 1
vfacing = 1
vel = 4+(random%9),-.5-(random%2)
random = 5,5
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time <= 140
trigger1 = timemod = 2,0
anim = 1019
pos = 4,-16
postype = p1
facing = 1
vfacing = 1
vel = 5+(random%9),-.2-(random%2)
random = 5,15
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time <= 140
trigger1 = timemod = 2,0
anim = 1019
pos = 4,-24
postype = p1
facing = 1
vfacing = -1
vel = 5+(random%9),.2+(random%2)
random = 5,15
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time <= 140
trigger1 = timemod = 3,0
anim = 1018
pos = 4,-34
postype = p1
facing = 1
vfacing = -1
vel = 4+(random%9),.2+(random%2)
random = 5,5
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1










[State 0, Explod]
type = Explod
triggerall = time >= 15
triggerall = time <= 140
trigger1 = timemod = 3,0
anim = 1018
pos = 50,-8
postype = p1
facing = 1
vfacing = 1
vel = 4+(random%9),-.5-(random%2)
random = 5,25
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time >= 15
triggerall = time <= 140
trigger1 = timemod = 2,0
anim = 1019
pos = 50,-16
postype = p1
facing = 1
vfacing = 1
vel = 5+(random%9),-.2-(random%2)
random = 5,40
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time >= 15
triggerall = time <= 140
trigger1 = timemod = 2,0
anim = 1019
pos = 50,-24
postype = p1
facing = 1
vfacing = -1
vel = 5+(random%9),.2+(random%2)
random = 5,40
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time >= 15
triggerall = time <= 140
trigger1 = timemod = 3,0
anim = 1018
pos = 50,-34
postype = p1
facing = 1
vfacing = -1
vel = 4+(random%9),.2+(random%2)
random = 5,25
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1







[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 400,1
volume = 255

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1050


[State 3000, 2]
type = ChangeState
trigger1 = numhelper(16000)= 0
trigger2 = helper(16000),stateno = 16009
trigger2 = helper(16000),time >= 20
triggerall = time >= 20
value = 16022

;-------------------------------------------------------------------------------
;kamehameha inicial (bola pequeña)
[Statedef 16005]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2022

[State 3000, Helper Projetil]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(16010)=0
helpertype = Normal
ID = 16010
name = "efecto de kamehameha"
postype = p1
pos = 0,0
stateno = 16010
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 32,6
volume = 255

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -15,-20

[State 0, VarSet] ; tamaño en x  (de 0 a 50) (multiplicar por 0,001)
type = VarSet
trigger1 = 1
v = 10
value = 1

[State 0, VarSet] ; tamaño en y
type = VarSet
trigger1 = 1
v = 11
value = 1

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing


[State 0, ChangeState]
type = ChangeState
trigger1 = root,stateno = 16001
value = 16007

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [16000,16051]
value = 16009

;-------------------------------------------------------------------------------
;acaba con el enemigo
[Statedef 16007]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 20212

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(10) < 0
v = 10 ; x
value = 0

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(11) < 0
v = 11 ; y
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2500,2
volume = 255
channel = 4

[State 0, varAdd]
type = VarAdd
trigger1 = var(10) <= 60
v = 10 ; x
value = 2

[State 0, varAdd]
type = VarAdd
trigger1 = var(11) <= 40
v = 11 ; y
value = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-21
time = 4
ignorehitpause = 1

[State 3010, 2]
type = HitDef
trigger1 = Time %3 = 0 && Time <= 140
attr = A, HP
damage = 4,2
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 6 , Hit
sprpriority = 6
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
;hitsound = S20, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 17
ground.velocity = -.5,0
air.velocity = -.5, -1
air.hittime = 20
palfx.time = 50
air.fall = 0
fall.recover = 0
palfx.add = 0,100,150
palfx.mul = 256,256,256
palfx.sinadd = 0,50,50,5
kill = 0

[State 3010, 3]
type = HitDef
trigger1 = Time = 141
attr = A, HP
damage = 120
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 7,Hit
sprpriority = 6
pausetime = 0, 20
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
;hitsound = S1, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = 50
ground.hittime  = 20
ground.velocity = -10,-4
air.type = High
air.velocity = -10, -4
air.hittime = 20
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,100,150
palfx.mul = 256,256,256
palfx.sinadd = 0,50,50,5

[State 6040, spark]
type=explod
trigger1 = Time %3 = 0 && Time <= 140
trigger1 = Movehit && (P2stateno=[5000,5999])
anim=11011
ID=7105
sprpriority=3
postype=p2
vfacing = ifelse(random < 500,-1,1)
vel=0,0
pos= 0,-15
random=5,35
removetime=-2
ownpal=1
removeongethit = 1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = .25,.25

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 150
value = 16009
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [16000,16051]
value = 16009


;-------------------------------------------------------------------------------
;desaparece
[Statedef 16009]
type = A
movetype = A
physics = N
velset = 0,0
anim = 2022
ctrl = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time <= 10
pos = 17,-21
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = time >= 1
trigger1 = var(11) >= 1
v = 11
value = -2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 80

;-------------------------------------------------------------------------------
;efecto especial
[Statedef 16010]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 20200
SprPriority = 300

[State 0, Turn]
type = Turn
trigger1 = facing != parent,facing

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = root,stateno = 16000
trigger2 = root,stateno = 16021
flag = invisible
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0+(parent,var(10)*2.5),-2
time = 1000
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (parent,var(10))*0.0105,(parent,var(11))*0.005
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent,stateno = 16009
time = 100
mul = 256,256,256
sinadd = -256,-256,-256,400
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 16009
trigger1 = parent,time >= 70

; efecto bola de kamehameha creciendo
[Statedef 16015]
type = A
movetype = A
physics = N
velset = 0,0
anim = 6020
ctrl = 0
sprpriority = 500

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = var(9) <= 100
v = 9
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(var(9)*0.0025),0+(var(9)*0.0025)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -10,-17
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 16000


; iluminacion kamehameha creciendo
[Statedef 16016]
type = A
movetype = A
physics = N
velset = 0,0
anim = 406
ctrl = 0
sprpriority = 10

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = -1
add = -170,-170,-170
mul = 256,256,256
sinadd = -5,-5,-5,10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = var(9) <= 100
v = 9
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(var(9)*0.0015),0+(var(9)*0.0015)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -9,-17
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 16000

;-------------------------------------------------------------------------------

;-------------------------------------------------------------------------------
;efecto de mano
[Statedef 16013]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2023
SprPriority = 500

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 22,-22
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(16000),stateno = 16009
value = 16014
ignorehitpause = 1



[Statedef 16014]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+(time*0.02),.5-(time*0.02)

[State 0, BindToParent]
type = BindToParent
trigger1 = time <= 5
pos = 22,-22
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 25

;-------------------------------------------------------------------------------
;----------------------- SUPER KAME
[StateDef 12999]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2999
poweradd = -5000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S0,6
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=50
value = S501,3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=207
value = S2500,2
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 380
value = S420,5
volume = 999


[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 2,-40
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && BackEdgeBodyDist <= 0
value = 20
ctrl = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S3,9
volume = 0
channel = -5
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=420
value = S5370,0
volume = 999999
channel = -5
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=420
value = S3,10
volume = 999999
channel = -6
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=38
value = S33,0
volume = 0
channel = -5
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 4000, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodyDist < -1)
movecamera = 0,0
value	= 0

[State 0, EnvShake]
type = EnvShake
trigger1 =time>201 && timemod=10,0
time = 20
freq = 60
ampl = -8
phase = 90


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=45
value = S400,7
volume = 0
channel = -5
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=200
value = S400,1
volume = 0
channel = 8
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0


[State 0]
type = Explod
trigger1 = time=34
anim = 7030
pos = -8,2
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=210
bindtime = -1
supermove=1
pausemove=0
scale = .83,.5
ontop=1
sprpriority = 0
removeongethit = 1

[State 0]
type = Explod
trigger1 = time=201
anim = 7030
pos = -5,4
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=200
bindtime = -1
supermove=1
pausemove=0
scale = .84,.82
ontop=1
sprpriority = 0
removeongethit = 1

 [State 0]
type = Explod
trigger1 = time=0
anim = 1030
pos = -6,-15
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=200
bindtime = -1
supermove=1
pausemove=0
scale = .5,.5
ontop=1
sprpriority = 0
removeongethit = 1

 [State 0]
type = Explod
trigger1 = time=110
anim = 6020
pos = -14,-18
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=100
bindtime = -1
scale = .25,.25
ontop=1
sprpriority = 0
removeongethit = 1

[State 0, Turn]
type = Turn
trigger1 = time =200 && p2dist x <= -1

 [State 0]
type = Explod
trigger1 = time=201
anim =3002
pos = 10,-38
postype = p1
facing = 1
ownpal=1
vfacing = 1
removetime=210
bindtime = -1
supermove=1
pausemove=-1
scale = 1,1.2
ontop=1
sprpriority = 0
removeongethit = 1

[State 0]
type = Explod
trigger1 = time = 201
anim = 1056
pos = 25,0
sprpriority = -100
postype = p1  ;p2,front,back,left,right
removetime = 200
removeongethit = 1
bindtime = -1
scale = 0.2,0.2
supermove = 1

[State 0]
type = Explod
trigger1 = time = 201
anim = 1056
pos = 8,6
postype = p1  ;p2,front,back,left,right
removetime = 200
removeongethit = 1
bindtime = -1
sprpriority = 4
ontop = 1
scale = 0.2,0.2
ownpal = 1
supermove = 1

 [State 0]
type = Explod
trigger1 = time=115
anim = 6015
pos = -14,-18
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=100
bindtime = -1
supermove=1
pausemove=-1
scale = .5,.5
ontop=1
sprpriority = 0
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem=1 && Pos y >= 0
anim = 7033
pos = -5,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 100000000000000
vel = 0,0
accel = 0,0
random = 0,0
removetime = 200
supermove =1
pausemove=0
scale = .75,.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0]
type = Explod
trigger1 = time =400
anim =7043
pos = -6,-45
postype = p2
facing = 1
vfacing = 1
bindtime = 555
ontop=0
scale = 1,1
sprpriority = 10
removeongethit = 1
removetime=55

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S0,7
volume = 999


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time=0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time =400

[State 200, 3]
type = Explod
trigger1 = time = 50
anim = 7102
pos = -12,6
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 150
sprpriority = -1
scale = 0.5,0.5
supermove = 1

[State 200, 3]
type = Explod
trigger1 = time = 50
anim = 7103
pos = 10,6
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 150
sprpriority = -1
scale = 0.5,0.5
supermove = 1


[State 1999, 1]
type = Projectile
trigger1 = AnimElem =13
projanim = 3100
projhits=200
projremovetime=120
projpriority = 1
projheightbound = -540, 100
projedgebound = 100
projscreenbound = 500
projshadow = 0
offset = 10,-40
projscale=1.5,1.5
attr = S, SP
damage   =3,3
animtype = heavy
hitflag = MAFDP
pausetime = 2,5
hitsound   = S2999,1
sparkxy = 500,500
guardsound = S6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -500
proj.ownpal=1
air.animtype = Back
air.velocity = -500
air.juggle = 3
air.fall = 0
down.velocity =0
down.hittime = 30
down.bounce = 0
fall=1
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.invertall=0
palfx.sinadd = 110,55,85,10
palfx.time=40
palfx.add = 100,100,100
palfx.mul = 256,256,256
palfx.sinadd = -80,-80,-80,10


[State 999, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;------------------------------
;Genkidama SSJ

[Statedef 16470]
type=A
movetype=A
physics=S
juggle=1
anim = 470
ctrl=0
sprpriority=1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 2,-40
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 0, Turn]
type = Turn
trigger1 = p2dist x <= -1

[State 0]
type = ReversalDef
trigger1 = time
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = s1066
sparkxy = -10,0
hitsound = s2,0
sprpriority = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1014

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 60
anim = -1
pos = 0,0
poweradd = -3000

;-------------------------------------------------------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = s1,9
supermove = -1

[state 702, 2]
type = posadd
trigger1 = animelem = 4
y = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 11
anim = 1040
ID = 1040
pos = 5,-130
postype = p1
removetime = -1
bindtime = -1
sprpriority = 3
removeongethit = 1
ownpal = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S1,11

[State 400,ChangeState2]
type=ChangeState
trigger1= AnimTime = 0
value=16471
ctrl=1

;------------------------------
;Genkidama SSJ

[Statedef 16470]
type=A
movetype=A
physics=S
juggle=1
anim = 470
ctrl=0
sprpriority=1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 2,-40
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 0, Turn]
type = Turn
trigger1 = p2dist x <= -1

[State 0]
type = ReversalDef
trigger1 = time
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = s1066
sparkxy = -10,0
hitsound = s2,0
sprpriority = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1014

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 60
anim = -1
pos = 0,0
poweradd = -3000

;-------------------------------------------------------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = s1,9
supermove = -1

[state 702, 2]
type = posadd
trigger1 = animelem = 4
y = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 11
anim = 1040
ID = 1040
pos = 5,-130
postype = p1
removetime = -1
bindtime = -1
sprpriority = 3
removeongethit = 1
ownpal = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S1,11

[State 400,ChangeState2]
type=ChangeState
trigger1= AnimTime = 0
value=16471
ctrl=1

;-------------------------------------------------------------------------------
[Statedef 16471]
type=A
movetype=A
physics=S
juggle=1
anim = 471
ctrl=0
sprpriority=2
poweradd=-3000

[State 0, Flash]
type = allPalFX
trigger1 = animelem = 4
time = 3
add = 256,256,256

[State 0]
type = ReversalDef
trigger1 = time
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = s1066
sparkxy = -10,0
hitsound = s2,0
sprpriority = -1

[State 0, VelSet]
type = VelSet
trigger1 = time
x = -.1
y = -.05

[State 0, Flash]
type = allPalFX
trigger1 = animelem = 4
time = 3
add = 256,256,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1040

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S8,1

[State 400]
type = Helper
trigger1 = !time
helpertype = normal
name = "Genki"
id = 11110
pos = 5,-130
stateno = 11110
keyctrl = 1
ownpal = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1014
id = 1014
pos = -5,12
postype = p1
removetime = -1
bindtime = -1
scale = .5,.6
ownpal = -1
removeongethit = 1
removeongethit = 1
ownpal = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 || animtime = 0
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (Time>150) && TimeMod = 20,0
value = S1,7

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 1014

[State 400,ChangeState2]
type=ChangeState
triggerall = p2dist x >= 320
trigger1= AnimTime = 0
value=10011
ctrl=1

[State 400,ChangeState2]
type=ChangeState
triggerall = p2dist x <= 320
trigger1= AnimTime = 0
value=50
ctrl=1

 ;---------------------------------------------------------------------------
[StateDef 17015]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = -1000

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26015

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36015

[State 0]
type = Explod
triggerall = var(7) = 2
trigger1 = time = 20
anim = 6016
pos = 6,-20
postype = p1  ;p2,front,back,left,right
removetime = 35
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.15,0.15
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 2
trigger1 = time = 20
anim = 6016
pos = -6,-20
postype = p1  ;p2,front,back,left,right
removetime = 35
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.15,0.15
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 3
trigger1 = time = 20
anim = 6016
pos = 2,-20
postype = p1  ;p2,front,back,left,right
removetime = 35
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.15,0.15
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 3
trigger1 = time = 20
anim = 6016
pos = -10,-20
postype = p1  ;p2,front,back,left,right
removetime = 35
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.15,0.15
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 2
trigger1 = animelem = 20
anim = 6016
pos = 2,-25
postype = p1  ;p2,front,back,left,right
removetime = 20
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.4,0.4
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 3
trigger1 = animelem = 20
anim = 6016
pos = -10,-22
postype = p1  ;p2,front,back,left,right
removetime = 20
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.2,0.2
ownpal = 1
supermove = 1

[State 0]
type = Explod
trigger1 = animelem = 21
anim = 7102
pos = -14,6
postype = p1  ;p2,front,back,left,right
removetime = 28
removeongethit = 1
bindtime = -1
sprpriority = -1
scale = 0.5,0.5
ownpal = 1
supermove = 1

[State 0]
type = Explod
trigger1 = animelem = 20
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 17
trigger9 = animelem = 19
anim = 1056
pos = 25,0
sprpriority = -100
postype = p1  ;p2,front,back,left,right
removetime = 20
removeongethit = 1
bindtime = -1
scale = 0.2,0.2
supermove = 1

[State 0]
type = Explod
trigger1 = animelem = 20
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 17
trigger9 = animelem = 19
anim = 1056
pos = 8,6
postype = p1  ;p2,front,back,left,right
removetime = 20
removeongethit = 1
bindtime = -1
sprpriority = 4
ontop = 1
scale = 0.2,0.2
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = Time = 20
value = S33,0

[state 0]
type = playsnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 17
trigger9 = animelem = 19
value = S0,19

[state 0]
type = playsnd
trigger1 = animelem = 20
value = S33,0

[state 0]
type = playsnd
trigger1 = animelem = 21
value = S0,22

[State 0]
type = Helper
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 17
trigger9 = animelem = 19
helpertype = normal ;player
name = "Ki Ball"
ID = 6016
stateno = 6016
pos = 30,-30
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0]
type = Helper
trigger1 = animelem = 21
helpertype = normal ;player
name = "Ki Ball"
ID = 6017
stateno = 6017
pos = 50,-25
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 16495]
type=A
movetype=A
physics=S
juggle=1
anim = 496
velset= 0,0
ctrl=0
poweradd=20
sprpriority=1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 2,-40
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

 [State 0]
type = Explod
trigger1 = time=0
anim = 1030
pos = 0,-25
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=60
bindtime = -1
supermove=1
pausemove=0
scale = .5,.5
ontop=1
sprpriority = 0
removeongethit = 1

 [State 0]
type = Explod
trigger1 = time=0
anim =755
pos = -3,2
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=60
bindtime = -1
supermove=1
pausemove=0
scale = .3,.3
ontop=1
sprpriority = 2
removeongethit = 1


 [State 0]
type = Explod
trigger1 = time=1
anim =755
pos = -3,2
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=100
bindtime = -1
supermove=1
pausemove=0
scale = .5,.3
ontop=1
sprpriority = 2
removeongethit = 1

 [State 0]
type = Explod
trigger1 = time=1
anim = 1030
pos = -4,-20
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=60
bindtime = -1
supermove=1
pausemove=0
scale = .5,.5
ontop=1
sprpriority = 0
removeongethit = 1

[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 5

 [State 0]
type = Explod
trigger1 = time=1
anim =755
pos = -3,2
postype = p1
facing = 1
ownpal=1
ownpal=1
vfacing = 1
removetime=100
bindtime = -1
supermove=1
pausemove=0
scale = .5,.3
ontop=1
sprpriority = 2
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,8

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1014


[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 60
anim = -1
pos = 0,0
poweradd = -1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = s1,9
supermove = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time
flag = unguardable

[State 0]
type = ReversalDef
trigger1 = time
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 6,9
sparkno = s1005+random%5
sparkxy = 10
hitsound = s2,0
sprpriority = -1

[State 1002, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1067
projhitanim = -1
projpriority = 1
projheightbound = 340, 100
projedgebound = 10
projscreenbound = 10
projshadow = 1
offset = 20,-15
velocity = 0,0
accel = 0, 0
attr = S, SP
damage = 8
animtype = hard
projhits = 999
guardflag = MA
hitflag = MAFDP
pausetime = 4,2
sparkno = -1
sparkxy = 0,-17
guardsound = S4,9
ground.type = Heavy
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -1,-1
air.animtype = back
air.velocity = -1,-1
air.juggle = 3
air.fall = 1
down.velocity = -1,-.1
down.hittime = 30
down.bounce = 0
projscale = .5,.5
pausemovetime = 1000
pausemovetime = 1000
envshake.time = 5
envshake.freq = 90
envshake.ampl = -3
fall = 1

[State 441,ChangeState2]
type=ChangeState
trigger1= AnimTime = 0
value=50
ctrl=1



;-------------------------------------------------------------------------------
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
